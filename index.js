const _0x4f1e33=_0x194a;(function(_0x5ea149,_0x590202){const _0x5ce910=_0x194a,_0x119ddd=_0x5ea149();while(!![]){try{const _0x1d2971=parseInt(_0x5ce910(0x10e))/0x1*(-parseInt(_0x5ce910(0x1a4))/0x2)+parseInt(_0x5ce910(0x188))/0x3+-parseInt(_0x5ce910(0x18f))/0x4*(parseInt(_0x5ce910(0x113))/0x5)+parseInt(_0x5ce910(0x194))/0x6*(-parseInt(_0x5ce910(0x10d))/0x7)+parseInt(_0x5ce910(0x19a))/0x8+-parseInt(_0x5ce910(0x1a1))/0x9*(-parseInt(_0x5ce910(0x152))/0xa)+parseInt(_0x5ce910(0x15a))/0xb*(parseInt(_0x5ce910(0x1bb))/0xc);if(_0x1d2971===_0x590202)break;else _0x119ddd['push'](_0x119ddd['shift']());}catch(_0x16d213){_0x119ddd['push'](_0x119ddd['shift']());}}}(_0x340a,0x81741));function _0x194a(_0x210e78,_0x415537){const _0x340ae4=_0x340a();return _0x194a=function(_0x194a88,_0x2f3074){_0x194a88=_0x194a88-0x103;let _0x10924c=_0x340ae4[_0x194a88];return _0x10924c;},_0x194a(_0x210e78,_0x415537);}function _0x340a(){const _0x4a5e82=['tls','trim','pop','tunnel.yml','/api/add-nodes','unlink','config.yaml','2053','length','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','post','&fp=firefox&type=ws&host=','clear','443','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','utf-8','https://arm64.ssss.nyc.mn/agent','express','/dev/null','none','\x20-s\x20','?encryption=none&security=tls&sni=','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','axios','existsSync','http\x20server\x20is\x20running\x20on\x20port:','177891lJWESL','mkdirSync','NEZHA_PORT','response','SUB_PATH','CFIP','direct','425836amoPcU','test','stream','PROJECT_URL','\x20>/dev/null\x202>&1','24WYTLgj','8443','fileUrl','\x0a\x20\x20\x0atrojan://','chmod','&path=%2Ftrojan-argo%3Fed%3D2560#','4870456Jnmvvk','listen','Error\x20reading\x20boot.log:','&path=%2Fvless-argo%3Fed%3D2560#','/sub.txt\x20saved\x20successfully','App\x20is\x20running','Download\x20','1695177hgcSxe','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','npm\x20running\x20error:\x20','2FFfDPv','\x20-c\x20\x22','CFPORT','automatic\x20access\x20task\x20added\x20successfully','pkill\x20-f\x20\x22[','--tls','https://arm64.ssss.nyc.mn/v1','/vmess-argo','child_process','Empowerment\x20failed\x20for\x20','readdirSync','/vless-argo','TunnelSecret','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','includes','aarch64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Error\x20in\x20startserver:','env','Error\x20downloading\x20files:','\x0a\x20\x20\x20\x20','https://oooo.serv00.net/add-url','blackhole','3215604qqLLQi','finish','https://arm64.ssss.nyc.mn/web','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','2087','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','xtls-rprx-vision','quic','/trojan-argo','rm\x20-rf\x20','ARGO_DOMAIN:','NEZHA_SERVER','2083','\x0aclient_secret:\x20','698390ttGMym','951233ninaNx','isFile','data','push','59531c29-ba6a-4251-b055-9e1da4611e3c','40naYSMS','true','match','catch','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','tcp','\x20failed:\x20','nohup\x20','Hello\x20world!','\x20>\x20nul\x202>&1','stringify','NAME','send','/api/add-subscriptions','Error\x20executing\x20command:\x20','message','set','vless','map','platform','config.json','split','cf.090227.xyz','get','createWriteStream','web\x20running\x20error:\x20','\x20>/dev/null\x202>&1\x20&','?security=tls&sni=','https://amd64.ssss.nyc.mn/agent','forEach','random','/api/delete-nodes','readFileSync','floor','ARGO_PORT','del\x20/f\x20/q\x20','freedom','FILE_PATH','PORT','\x22\x20>\x20/dev/null\x202>&1','vmess','base64','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','php\x20running\x20error:\x20','log','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','writeFileSync','NEZHA\x20variable\x20is\x20empty,skip\x20running','Content-Type','SERVER_PORT','\x20successfully','filter','text/plain;\x20charset=utf-8','trojan','false','toString','.exe\x20>\x20nul\x202>&1','https+local://8.8.8.8/dns-query','Skipping\x20adding\x20automatic\x20access\x20task','unlinkSync','arm64','http','10cFLQbK','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','boot.log','list.txt','127.0.0.1','2096','application/json','status','77dEaQkV','\x0avless://','close','railway','fileName','from','ArgoDomain:','ARGO_DOMAIN','basename','arm','error','\x20is\x20running','NEZHA_KEY','all','\x20-c\x20','join','tunnel.json','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/vmess-argo?ed=2560','firefox'];_0x340a=function(){return _0x4a5e82;};return _0x340a();}const express=require(_0x4f1e33(0x17f)),app=express(),axios=require(_0x4f1e33(0x185)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x4f1e33(0x1ac))['exec']),{execSync}=require(_0x4f1e33(0x1ac)),UPLOAD_URL=process[_0x4f1e33(0x1b6)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x4f1e33(0x1b6)][_0x4f1e33(0x192)]||'',AUTO_ACCESS=process[_0x4f1e33(0x1b6)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x4f1e33(0x138)]||'./tmp',SUB_PATH=process[_0x4f1e33(0x1b6)][_0x4f1e33(0x18c)]||'zuofeng',PORT=process['env'][_0x4f1e33(0x145)]||process['env'][_0x4f1e33(0x139)]||0xbb8,UUID=process['env']['UUID']||_0x4f1e33(0x112),NEZHA_SERVER=process[_0x4f1e33(0x1b6)][_0x4f1e33(0x10a)]||'',NEZHA_PORT=process[_0x4f1e33(0x1b6)][_0x4f1e33(0x18a)]||'',NEZHA_KEY=process[_0x4f1e33(0x1b6)][_0x4f1e33(0x166)]||'',ARGO_DOMAIN=process[_0x4f1e33(0x1b6)][_0x4f1e33(0x161)]||'railway.740429.xyz',ARGO_AUTH=process['env']['ARGO_AUTH']||'eyJhIjoiYjA5ZjcyYmFkYTdmNWU0YWQ3ZmFjZTRjNzdlNzRjNWYiLCJ0IjoiNmMxOWFlODItNTdkNi00ZDU2LWFlMjgtYTI1YmY3YzYzNTYwIiwicyI6IlpXUmxPRFkyWm1NdE9XWXlZUzAwWkRFNExXSTBPR0l0TW1GalptRXlNemc1TnpFNSJ9',ARGO_PORT=process[_0x4f1e33(0x1b6)][_0x4f1e33(0x135)]||0x1f41,CFIP=process['env'][_0x4f1e33(0x18d)]||_0x4f1e33(0x129),CFPORT=process[_0x4f1e33(0x1b6)][_0x4f1e33(0x1a6)]||0x1bb,NAME=process[_0x4f1e33(0x1b6)][_0x4f1e33(0x11e)]||_0x4f1e33(0x15d);!fs[_0x4f1e33(0x186)](FILE_PATH)?(fs[_0x4f1e33(0x189)](FILE_PATH),console[_0x4f1e33(0x13f)](FILE_PATH+'\x20is\x20created')):console[_0x4f1e33(0x13f)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3e2e7f=_0x4f1e33,_0x512263='abcdefghijklmnopqrstuvwxyz';let _0x2eff63='';for(let _0x211e7a=0x0;_0x211e7a<0x6;_0x211e7a++){_0x2eff63+=_0x512263['charAt'](Math[_0x3e2e7f(0x134)](Math[_0x3e2e7f(0x131)]()*_0x512263[_0x3e2e7f(0x176)]));}return _0x2eff63;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x4f1e33(0x169)](FILE_PATH,'sub.txt'),listPath=path[_0x4f1e33(0x169)](FILE_PATH,_0x4f1e33(0x155)),bootLogPath=path['join'](FILE_PATH,_0x4f1e33(0x154)),configPath=path[_0x4f1e33(0x169)](FILE_PATH,_0x4f1e33(0x127));function deleteNodes(){const _0x300cda=_0x4f1e33;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3c69fc;try{_0x3c69fc=fs[_0x300cda(0x133)](subPath,_0x300cda(0x17d));}catch{return null;}const _0x445030=Buffer['from'](_0x3c69fc,_0x300cda(0x13c))[_0x300cda(0x14b)](_0x300cda(0x17d)),_0x2b2c6e=_0x445030['split']('\x0a')[_0x300cda(0x147)](_0x5cf7a1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x300cda(0x190)](_0x5cf7a1));if(_0x2b2c6e[_0x300cda(0x176)]===0x0)return;return axios['post'](UPLOAD_URL+_0x300cda(0x132),JSON[_0x300cda(0x11d)]({'nodes':_0x2b2c6e}),{'headers':{'Content-Type':'application/json'}})[_0x300cda(0x116)](_0x139115=>{return null;}),null;}catch(_0x195c53){return null;}}function cleanupOldFiles(){const _0x1e2719=_0x4f1e33;try{const _0x30c96c=fs[_0x1e2719(0x1ae)](FILE_PATH);_0x30c96c[_0x1e2719(0x130)](_0x40382c=>{const _0x4dbc7c=_0x1e2719,_0x3ea252=path['join'](FILE_PATH,_0x40382c);try{const _0x5d336b=fs['statSync'](_0x3ea252);_0x5d336b[_0x4dbc7c(0x10f)]()&&fs[_0x4dbc7c(0x14f)](_0x3ea252);}catch(_0x27d0f9){}});}catch(_0x34505f){}}app[_0x4f1e33(0x12a)]('/',function(_0x225a14,_0x29a49c){const _0x281136=_0x4f1e33;_0x29a49c[_0x281136(0x11f)](_0x281136(0x11b));});async function generateConfig(){const _0x43ede9=_0x4f1e33,_0x1b3a23={'log':{'access':_0x43ede9(0x180),'error':_0x43ede9(0x180),'loglevel':_0x43ede9(0x181)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x43ede9(0x105)}],'decryption':_0x43ede9(0x181),'fallbacks':[{'dest':0xbb9},{'path':_0x43ede9(0x1af),'dest':0xbba},{'path':_0x43ede9(0x1ab),'dest':0xbbb},{'path':_0x43ede9(0x107),'dest':0xbbc}]},'streamSettings':{'network':_0x43ede9(0x118)}},{'port':0xbb9,'listen':_0x43ede9(0x156),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x43ede9(0x124),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x43ede9(0x181)},'streamSettings':{'network':'ws','security':_0x43ede9(0x181),'wsSettings':{'path':_0x43ede9(0x1af)}},'sniffing':{'enabled':!![],'destOverride':[_0x43ede9(0x151),_0x43ede9(0x16e),_0x43ede9(0x106)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x43ede9(0x156),'protocol':_0x43ede9(0x13b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x43ede9(0x16e),_0x43ede9(0x106)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x43ede9(0x156),'protocol':_0x43ede9(0x149),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x43ede9(0x181),'wsSettings':{'path':_0x43ede9(0x107)}},'sniffing':{'enabled':!![],'destOverride':[_0x43ede9(0x151),_0x43ede9(0x16e),_0x43ede9(0x106)],'metadataOnly':![]}}],'dns':{'servers':[_0x43ede9(0x14d)]},'outbounds':[{'protocol':_0x43ede9(0x137),'tag':_0x43ede9(0x18e)},{'protocol':_0x43ede9(0x1ba),'tag':'block'}]};fs[_0x43ede9(0x142)](path[_0x43ede9(0x169)](FILE_PATH,_0x43ede9(0x127)),JSON['stringify'](_0x1b3a23,null,0x2));}function getSystemArchitecture(){const _0x1d9d70=_0x4f1e33,_0x15eda1=os['arch']();return _0x15eda1===_0x1d9d70(0x163)||_0x15eda1===_0x1d9d70(0x150)||_0x15eda1===_0x1d9d70(0x1b3)?_0x1d9d70(0x163):'amd';}function downloadFile(_0x18aad7,_0x6288bd,_0xab29e){const _0x1fddcd=_0x4f1e33,_0x4eb87b=_0x18aad7;!fs[_0x1fddcd(0x186)](FILE_PATH)&&fs[_0x1fddcd(0x189)](FILE_PATH,{'recursive':!![]});const _0xdd46e=fs[_0x1fddcd(0x12b)](_0x4eb87b);axios({'method':_0x1fddcd(0x12a),'url':_0x6288bd,'responseType':_0x1fddcd(0x191)})['then'](_0x3a6f43=>{const _0x241811=_0x1fddcd;_0x3a6f43[_0x241811(0x110)]['pipe'](_0xdd46e),_0xdd46e['on'](_0x241811(0x1bc),()=>{const _0x32bc97=_0x241811;_0xdd46e[_0x32bc97(0x15c)](),console[_0x32bc97(0x13f)](_0x32bc97(0x1a0)+path[_0x32bc97(0x162)](_0x4eb87b)+_0x32bc97(0x146)),_0xab29e(null,_0x4eb87b);}),_0xdd46e['on'](_0x241811(0x164),_0x307abc=>{const _0x57e58c=_0x241811;fs[_0x57e58c(0x173)](_0x4eb87b,()=>{});const _0x4e7296=_0x57e58c(0x1a0)+path[_0x57e58c(0x162)](_0x4eb87b)+_0x57e58c(0x119)+_0x307abc['message'];console[_0x57e58c(0x164)](_0x4e7296),_0xab29e(_0x4e7296);});})[_0x1fddcd(0x116)](_0x532f76=>{const _0x4ce1bd=_0x1fddcd,_0x6017e9=_0x4ce1bd(0x1a0)+path['basename'](_0x4eb87b)+_0x4ce1bd(0x119)+_0x532f76[_0x4ce1bd(0x122)];console[_0x4ce1bd(0x164)](_0x6017e9),_0xab29e(_0x6017e9);});}async function downloadFilesAndRun(){const _0xd9dd90=_0x4f1e33,_0x2840d4=getSystemArchitecture(),_0x289917=getFilesForArchitecture(_0x2840d4);if(_0x289917[_0xd9dd90(0x176)]===0x0){console[_0xd9dd90(0x13f)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x1515c2=_0x289917[_0xd9dd90(0x125)](_0x3e2a28=>{return new Promise((_0x4256b7,_0x2e4a1e)=>{const _0x43d0e7=_0x194a;downloadFile(_0x3e2a28[_0x43d0e7(0x15e)],_0x3e2a28[_0x43d0e7(0x196)],(_0xc03b25,_0x14aab2)=>{_0xc03b25?_0x2e4a1e(_0xc03b25):_0x4256b7(_0x14aab2);});});});try{await Promise[_0xd9dd90(0x167)](_0x1515c2);}catch(_0x5631f9){console['error'](_0xd9dd90(0x1b7),_0x5631f9);return;}function _0x15a2bc(_0xfdd3a9){const _0xb57f10=_0xd9dd90,_0x24afcc=0x1fd;_0xfdd3a9[_0xb57f10(0x130)](_0x22b924=>{const _0x265c76=_0xb57f10;fs[_0x265c76(0x186)](_0x22b924)&&fs[_0x265c76(0x198)](_0x22b924,_0x24afcc,_0x2b5c92=>{const _0x996e11=_0x265c76;_0x2b5c92?console[_0x996e11(0x164)](_0x996e11(0x1ad)+_0x22b924+':\x20'+_0x2b5c92):console[_0x996e11(0x13f)]('Empowerment\x20success\x20for\x20'+_0x22b924+':\x20'+_0x24afcc[_0x996e11(0x14b)](0x8));});});}const _0x594f13=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x15a2bc(_0x594f13);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5e3911=NEZHA_SERVER[_0xd9dd90(0x1b2)](':')?NEZHA_SERVER['split'](':')[_0xd9dd90(0x170)]():'',_0x45d0d8=new Set(['443',_0xd9dd90(0x195),_0xd9dd90(0x157),_0xd9dd90(0x103),_0xd9dd90(0x10b),_0xd9dd90(0x175)]),_0x21f545=_0x45d0d8['has'](_0x5e3911)?_0xd9dd90(0x114):_0xd9dd90(0x14a),_0x33c3cb=_0xd9dd90(0x10c)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0xd9dd90(0x1b1)+_0x21f545+_0xd9dd90(0x13d)+UUID;fs[_0xd9dd90(0x142)](path['join'](FILE_PATH,_0xd9dd90(0x174)),_0x33c3cb);const _0x51cf6a=_0xd9dd90(0x11a)+phpPath+_0xd9dd90(0x1a5)+FILE_PATH+_0xd9dd90(0x184);try{await exec(_0x51cf6a),console['log'](phpName+_0xd9dd90(0x165)),await new Promise(_0x2be709=>setTimeout(_0x2be709,0x3e8));}catch(_0x50f0fd){console[_0xd9dd90(0x164)](_0xd9dd90(0x13e)+_0x50f0fd);}}else{let _0x594b19='';const _0x33b05e=[_0xd9dd90(0x17b),'8443',_0xd9dd90(0x157),'2087',_0xd9dd90(0x10b),_0xd9dd90(0x175)];_0x33b05e[_0xd9dd90(0x1b2)](NEZHA_PORT)&&(_0x594b19=_0xd9dd90(0x1a9));const _0x4e8f66=_0xd9dd90(0x11a)+npmPath+_0xd9dd90(0x182)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x594b19+_0xd9dd90(0x1a2);try{await exec(_0x4e8f66),console[_0xd9dd90(0x13f)](npmName+_0xd9dd90(0x165)),await new Promise(_0x9a21d6=>setTimeout(_0x9a21d6,0x3e8));}catch(_0x42230d){console[_0xd9dd90(0x164)](_0xd9dd90(0x1a3)+_0x42230d);}}}else console[_0xd9dd90(0x13f)](_0xd9dd90(0x143));const _0x49d9c3=_0xd9dd90(0x11a)+webPath+_0xd9dd90(0x168)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x49d9c3),console['log'](webName+_0xd9dd90(0x165)),await new Promise(_0x5f516c=>setTimeout(_0x5f516c,0x3e8));}catch(_0x31f1ec){console[_0xd9dd90(0x164)](_0xd9dd90(0x12c)+_0x31f1ec);}if(fs['existsSync'](botPath)){let _0x1776fe;if(ARGO_AUTH[_0xd9dd90(0x115)](/^[A-Z0-9a-z=]{120,250}$/))_0x1776fe=_0xd9dd90(0x177)+ARGO_AUTH;else ARGO_AUTH[_0xd9dd90(0x115)](/TunnelSecret/)?_0x1776fe=_0xd9dd90(0x140)+FILE_PATH+'/tunnel.yml\x20run':_0x1776fe=_0xd9dd90(0x1b4)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xd9dd90(0x11a)+botPath+'\x20'+_0x1776fe+'\x20>/dev/null\x202>&1\x20&'),console[_0xd9dd90(0x13f)](botName+_0xd9dd90(0x165)),await new Promise(_0x2adaf7=>setTimeout(_0x2adaf7,0x7d0));}catch(_0x19953c){console[_0xd9dd90(0x164)](_0xd9dd90(0x121)+_0x19953c);}}await new Promise(_0x5d1d94=>setTimeout(_0x5d1d94,0x1388));}function getFilesForArchitecture(_0x236229){const _0x5cac3e=_0x4f1e33;let _0xa2df0f;_0x236229===_0x5cac3e(0x163)?_0xa2df0f=[{'fileName':webPath,'fileUrl':_0x5cac3e(0x1bd)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0xa2df0f=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x954b3f=_0x236229===_0x5cac3e(0x163)?_0x5cac3e(0x17e):_0x5cac3e(0x12f);_0xa2df0f['unshift']({'fileName':npmPath,'fileUrl':_0x954b3f});}else{const _0x269734=_0x236229===_0x5cac3e(0x163)?_0x5cac3e(0x1aa):'https://amd64.ssss.nyc.mn/v1';_0xa2df0f['unshift']({'fileName':phpPath,'fileUrl':_0x269734});}}return _0xa2df0f;}function argoType(){const _0x160d44=_0x4f1e33;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x160d44(0x13f)](_0x160d44(0x153));return;}if(ARGO_AUTH[_0x160d44(0x1b2)](_0x160d44(0x1b0))){fs[_0x160d44(0x142)](path[_0x160d44(0x169)](FILE_PATH,_0x160d44(0x16a)),ARGO_AUTH);const _0x30c3d6='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x160d44(0x128)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x160d44(0x169)](FILE_PATH,'tunnel.json')+_0x160d44(0x17c)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x160d44(0x104);fs[_0x160d44(0x142)](path[_0x160d44(0x169)](FILE_PATH,_0x160d44(0x171)),_0x30c3d6);}else console[_0x160d44(0x13f)](_0x160d44(0x16b));}argoType();async function extractDomains(){const _0x2dd00a=_0x4f1e33;let _0x487088;if(ARGO_AUTH&&ARGO_DOMAIN)_0x487088=ARGO_DOMAIN,console[_0x2dd00a(0x13f)](_0x2dd00a(0x109),_0x487088),await _0x4521cf(_0x487088);else try{const _0x7e8b8a=fs[_0x2dd00a(0x133)](path[_0x2dd00a(0x169)](FILE_PATH,_0x2dd00a(0x154)),'utf-8'),_0x4ff663=_0x7e8b8a[_0x2dd00a(0x128)]('\x0a'),_0x3caf4a=[];_0x4ff663[_0x2dd00a(0x130)](_0x1b041a=>{const _0x301754=_0x2dd00a,_0x1f8299=_0x1b041a['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1f8299){const _0x3407fa=_0x1f8299[0x1];_0x3caf4a[_0x301754(0x111)](_0x3407fa);}});if(_0x3caf4a[_0x2dd00a(0x176)]>0x0)_0x487088=_0x3caf4a[0x0],console[_0x2dd00a(0x13f)](_0x2dd00a(0x160),_0x487088),await _0x4521cf(_0x487088);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x2dd00a(0x14f)](path[_0x2dd00a(0x169)](FILE_PATH,_0x2dd00a(0x154)));async function _0x4ffa22(){const _0x3c136c=_0x2dd00a;try{process[_0x3c136c(0x126)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x3c136c(0x14c)):await exec(_0x3c136c(0x1a8)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x3c136c(0x13a));}catch(_0x30833e){}}_0x4ffa22(),await new Promise(_0x561059=>setTimeout(_0x561059,0xbb8));const _0x5ba9a6='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2dd00a(0x11a)+botPath+'\x20'+_0x5ba9a6+_0x2dd00a(0x12d)),console[_0x2dd00a(0x13f)](botName+_0x2dd00a(0x165)),await new Promise(_0x1d2ce4=>setTimeout(_0x1d2ce4,0xbb8)),await extractDomains();}catch(_0x547c06){console['error'](_0x2dd00a(0x121)+_0x547c06);}}}catch(_0x159160){console[_0x2dd00a(0x164)](_0x2dd00a(0x19c),_0x159160);}async function _0x4521cf(_0x56c02e){const _0x371b4c=_0x2dd00a,_0x18ca0b=execSync(_0x371b4c(0x117),{'encoding':_0x371b4c(0x17d)}),_0x95bd0f=_0x18ca0b[_0x371b4c(0x16f)](),_0x123dde=NAME?NAME+'-'+_0x95bd0f:_0x95bd0f;return new Promise(_0x3933cf=>{setTimeout(()=>{const _0xecd055=_0x194a,_0xfc09d={'v':'2','ps':''+_0x123dde,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xecd055(0x181),'net':'ws','type':_0xecd055(0x181),'host':_0x56c02e,'path':_0xecd055(0x16c),'tls':'tls','sni':_0x56c02e,'alpn':'','fp':_0xecd055(0x16d)},_0x22b2db=_0xecd055(0x15b)+UUID+'@'+CFIP+':'+CFPORT+_0xecd055(0x183)+_0x56c02e+_0xecd055(0x179)+_0x56c02e+_0xecd055(0x19d)+_0x123dde+'\x0a\x20\x20\x0avmess://'+Buffer[_0xecd055(0x15f)](JSON[_0xecd055(0x11d)](_0xfc09d))[_0xecd055(0x14b)](_0xecd055(0x13c))+_0xecd055(0x197)+UUID+'@'+CFIP+':'+CFPORT+_0xecd055(0x12e)+_0x56c02e+_0xecd055(0x179)+_0x56c02e+_0xecd055(0x199)+_0x123dde+_0xecd055(0x1b8);console[_0xecd055(0x13f)](Buffer[_0xecd055(0x15f)](_0x22b2db)['toString']('base64')),fs[_0xecd055(0x142)](subPath,Buffer[_0xecd055(0x15f)](_0x22b2db)[_0xecd055(0x14b)](_0xecd055(0x13c))),console[_0xecd055(0x13f)](FILE_PATH+_0xecd055(0x19e)),uploadNodes(),app[_0xecd055(0x12a)]('/'+SUB_PATH,(_0x392721,_0x11fa48)=>{const _0x243a61=_0xecd055,_0xc65a7=Buffer[_0x243a61(0x15f)](_0x22b2db)[_0x243a61(0x14b)](_0x243a61(0x13c));_0x11fa48[_0x243a61(0x123)](_0x243a61(0x144),_0x243a61(0x148)),_0x11fa48['send'](_0xc65a7);}),_0x3933cf(_0x22b2db);},0x7d0);});}}async function uploadNodes(){const _0x4cc073=_0x4f1e33;if(UPLOAD_URL&&PROJECT_URL){const _0x358b87=PROJECT_URL+'/'+SUB_PATH,_0x2cfe0a={'subscription':[_0x358b87]};try{const _0x296530=await axios[_0x4cc073(0x178)](UPLOAD_URL+_0x4cc073(0x120),_0x2cfe0a,{'headers':{'Content-Type':'application/json'}});return _0x296530&&_0x296530[_0x4cc073(0x159)]===0xc8?(console[_0x4cc073(0x13f)]('Subscription\x20uploaded\x20successfully'),_0x296530):null;}catch(_0x3ad494){if(_0x3ad494[_0x4cc073(0x18b)]){if(_0x3ad494['response'][_0x4cc073(0x159)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4cc073(0x186)](listPath))return;const _0x88b2d1=fs['readFileSync'](listPath,_0x4cc073(0x17d)),_0x4cf79b=_0x88b2d1['split']('\x0a')[_0x4cc073(0x147)](_0x1fd882=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4cc073(0x190)](_0x1fd882));if(_0x4cf79b[_0x4cc073(0x176)]===0x0)return;const _0x137425=JSON[_0x4cc073(0x11d)]({'nodes':_0x4cf79b});try{const _0x4d1151=await axios[_0x4cc073(0x178)](UPLOAD_URL+_0x4cc073(0x172),_0x137425,{'headers':{'Content-Type':_0x4cc073(0x158)}});return _0x4d1151&&_0x4d1151[_0x4cc073(0x159)]===0xc8?(console[_0x4cc073(0x13f)]('Nodes\x20uploaded\x20successfully'),_0x4d1151):null;}catch(_0x44a1c9){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1b4ad4=_0x194a,_0x2ab386=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2ab386[_0x1b4ad4(0x111)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2ab386[_0x1b4ad4(0x111)](phpPath);process[_0x1b4ad4(0x126)]==='win32'?exec(_0x1b4ad4(0x136)+_0x2ab386[_0x1b4ad4(0x169)]('\x20')+_0x1b4ad4(0x11c),_0x1a28d8=>{const _0x11ede7=_0x1b4ad4;console[_0x11ede7(0x17a)](),console[_0x11ede7(0x13f)](_0x11ede7(0x19f)),console[_0x11ede7(0x13f)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x1b4ad4(0x108)+_0x2ab386[_0x1b4ad4(0x169)]('\x20')+_0x1b4ad4(0x193),_0x584578=>{const _0x459e2b=_0x1b4ad4;console[_0x459e2b(0x17a)](),console[_0x459e2b(0x13f)](_0x459e2b(0x19f)),console[_0x459e2b(0x13f)](_0x459e2b(0x1be));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5ef423=_0x4f1e33;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5ef423(0x13f)](_0x5ef423(0x14e));return;}try{const _0x4f7572=await axios['post'](_0x5ef423(0x1b9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5ef423(0x158)}});return console[_0x5ef423(0x13f)](_0x5ef423(0x1a7)),_0x4f7572;}catch(_0x337957){return console[_0x5ef423(0x164)](_0x5ef423(0x141)+_0x337957['message']),null;}}async function startserver(){const _0x5e21c8=_0x4f1e33;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2a1127){console[_0x5e21c8(0x164)](_0x5e21c8(0x1b5),_0x2a1127);}}startserver()[_0x4f1e33(0x116)](_0x46cb44=>{const _0xd2a90a=_0x4f1e33;console[_0xd2a90a(0x164)]('Unhandled\x20error\x20in\x20startserver:',_0x46cb44);}),app[_0x4f1e33(0x19b)](PORT,()=>console[_0x4f1e33(0x13f)](_0x4f1e33(0x187)+PORT+'!'));
